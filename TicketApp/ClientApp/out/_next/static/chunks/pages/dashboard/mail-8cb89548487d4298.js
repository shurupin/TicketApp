(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6495],{86098:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/mail",function(){return t(65467)}])},21427:function(e,n,t){"use strict";t.d(n,{B:function(){return p}});var r=t(26042),i=t(69396),a=t(99534),s=t(85893);t(80091);var o=t(67294),l=t(5152),c=t.n(l),d=t(45697),u=t.n(d),h=t(90948),m=c()(function(){return Promise.all([t.e(2937),t.e(939),t.e(8764),t.e(1167)]).then(t.t.bind(t,71167,23))},{loadableGenerated:{webpack:function(){return[71167]}},ssr:!1,loading:function(){return null}}),x=(0,h.ZP)("div")(function(e){var n=e.theme;return{border:1,borderColor:n.palette.divider,borderRadius:n.shape.borderRadius,borderStyle:"solid",display:"flex",flexDirection:"column",overflow:"hidden","& .quill":{display:"flex",flex:1,flexDirection:"column",overflow:"hidden"},"& .ql-snow.ql-toolbar":{borderColor:n.palette.divider,borderLeft:"none",borderRight:"none",borderTop:"none","& .ql-picker-label:hover":{color:n.palette.primary.main},"& .ql-picker-label.ql-active":{color:n.palette.primary.main},"& .ql-picker-item:hover":{color:n.palette.primary.main},"& .ql-picker-item.ql-selected":{color:n.palette.primary.main},"& button:hover":{color:n.palette.primary.main,"& .ql-stroke":{stroke:n.palette.primary.main}},"& button:focus":{color:n.palette.primary.main,"& .ql-stroke":{stroke:n.palette.primary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:n.palette.primary.main}},"& .ql-stroke":{stroke:n.palette.text.primary},"& .ql-picker":{color:n.palette.text.primary},"& .ql-picker-options":{backgroundColor:n.palette.background.paper,border:"none",borderRadius:n.shape.borderRadius,boxShadow:n.shadows[10],padding:n.spacing(2)}},"& .ql-snow.ql-container":{borderBottom:"none",borderColor:n.palette.divider,borderLeft:"none",borderRight:"none",display:"flex",flex:1,flexDirection:"column",height:"auto",overflow:"hidden","& .ql-editor":{color:n.palette.text.primary,flex:1,fontFamily:n.typography.body1.fontFamily,fontSize:n.typography.body1.fontSize,height:"auto",overflowY:"auto",padding:n.spacing(2),"&.ql-blank::before":{color:n.palette.text.secondary,fontStyle:"normal",left:n.spacing(2)}}}}}),p=function(e){var n=e.sx,t=e.onChange,l=e.placeholder,c=e.value,d=(0,a.Z)(e,["sx","onChange","placeholder","value"]),u=(0,o.useRef)(null);return(0,s.jsx)(x,(0,i.Z)((0,r.Z)({sx:n,ref:u},d),{children:(0,s.jsx)(m,{onChange:t,placeholder:l,value:c,bounds:u.current||void 0})}))};p.propTypes={onChange:u().func,placeholder:u().string,sx:u().object,value:u().string}},70563:function(e,n,t){"use strict";t.d(n,{a:function(){return a}});var r=t(67294),i=t(56204),a=function(){(0,r.useEffect)(function(){i.w.push({event:"page_view"})},[])}},65467:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return e6}});var r=t(26042),i=t(69396),a=t(828),s=t(85893),o=t(67294),l=t(39332),c=t(9008),d=t.n(c),u=t(98396),h=t(67720),m=t(36822),x=t(70563),p=t(9639),f=t(45697),g=t.n(f),j=t(35485),b=t(16828),Z=t(63692),v=t(45638),y=t(45331),C=t(78385),k=t(45889),w=t(11791),I=t(15861),S=t(93946),q=t(53219),M=t(79332),A=t(26447),P=t(34386),z=t(11057),T=t(21427),E=function(e){var n=e.maximize,t=void 0!==n&&n,i=e.message,a=e.onClose,l=e.onMaximize,c=e.onMessageChange,d=e.onMinimize,u=e.onSubjectChange,x=e.onToChange,p=e.open,f=e.subject,g=e.to,E=(0,o.useCallback)(function(e){null==u||u(e.target.value)},[u]),W=(0,o.useCallback)(function(e){null==x||x(e.target.value)},[x]);return void 0!==p&&p?(0,s.jsxs)(C.Z,{children:[(0,s.jsx)(k.Z,{open:t}),(0,s.jsxs)(w.Z,{sx:(0,r.Z)({bottom:0,display:"flex",flexDirection:"column",margin:3,maxHeight:function(e){return"calc(100% - ".concat(e.spacing(6),")")},maxWidth:function(e){return"calc(100% - ".concat(e.spacing(6),")")},minHeight:500,outline:"none",position:"fixed",right:0,width:600,zIndex:1400,overflow:"hidden"},t&&{borderRadius:0,height:"100%",margin:0,maxHeight:"100%",maxWidth:"100%",width:"100%"}),elevation:12,children:[(0,s.jsxs)(m.Z,{sx:{alignItems:"center",display:"flex",px:2,py:1},children:[(0,s.jsx)(I.Z,{variant:"h6",children:"New Message"}),(0,s.jsx)(m.Z,{sx:{flexGrow:1}}),t?(0,s.jsx)(S.Z,{onClick:d,children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(v.Z,{})})}):(0,s.jsx)(S.Z,{onClick:l,children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(b.Z,{})})}),(0,s.jsx)(S.Z,{onClick:a,children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(y.Z,{})})})]}),(0,s.jsx)(M.Z,{disableUnderline:!0,fullWidth:!0,onChange:W,placeholder:"To",sx:{p:1,borderBottom:1,borderColor:"divider"},value:void 0===g?"":g}),(0,s.jsx)(M.Z,{disableUnderline:!0,fullWidth:!0,onChange:E,placeholder:"Subject",sx:{p:1,borderBottom:1,borderColor:"divider"},value:void 0===f?"":f}),(0,s.jsx)(T.B,{onChange:c,placeholder:"Leave a message",sx:{border:"none",flexGrow:1},value:void 0===i?"":i}),(0,s.jsx)(h.Z,{}),(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{p:2},children:[(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,s.jsx)(P.Z,{title:"Attach image",children:(0,s.jsx)(S.Z,{size:"small",children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(Z.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Attach file",children:(0,s.jsx)(S.Z,{size:"small",children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(j.Z,{})})})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(z.Z,{variant:"contained",children:"Send"})})]})]})]}):null};E.propTypes={maximize:g().bool,message:g().string,onClose:g().func,onMaximize:g().func,onMessageChange:g().func,onMinimize:g().func,onSubjectChange:g().func,onToChange:g().func,open:g().bool,subject:g().string,to:g().string};var W=t(98637),D=t(83720),R=t(47568),L=t(70655),O=t(51438),F=t(52951),_=t(36305),H=t(5704),B=new Date,G=[{id:"all",name:"All Mail",type:"system"},{id:"inbox",name:"Inbox",totalCount:0,type:"system",unreadCount:1},{id:"sent",name:"Sent",totalCount:0,type:"system",unreadCount:0},{id:"drafts",name:"Drafts",totalCount:0,type:"system",unreadCount:0},{id:"trash",name:"Trash",totalCount:1,type:"system",unreadCount:0},{id:"spam",name:"Spam",totalCount:0,type:"system",unreadCount:0},{id:"important",name:"Important",totalCount:1,type:"system",unreadCount:0},{id:"starred",name:"Starred",totalCount:1,type:"system",unreadCount:1},{id:"work",color:"#43A048",name:"Work",totalCount:1,type:"custom",unreadCount:0},{id:"business",color:"#1E88E5",name:"Business",totalCount:2,type:"custom",unreadCount:1},{id:"personal",color:"#FB8A00",name:"Personal",totalCount:1,type:"custom",unreadCount:0}],N=[{id:"5e86bcc3e1b53b6365d71638",attachments:[{id:"945d887e97f480359d3f591f",name:"working-sketch.png",size:"128.5Kb",type:"image",url:"/assets/covers/abstract-1-4x4-small.png"},{id:"09223c93e60f815fdce487af",name:"summer-customers.pdf",size:"782.3Kb",type:"file",url:"#"},{id:"165adb24c7b6a2e9aebba766",name:"desktop-coffee.png",size:"568.2Kb",type:"image",url:"/assets/covers/minimal-1-4x4-small.png"}],createdAt:B.getTime(),folder:"inbox",from:{avatar:"/assets/avatars/avatar-marcus-finn.png",email:"marcus.finn@devias.io",name:"Marcus Finn"},isImportant:!0,isStarred:!1,isUnread:!0,labelIds:["work","business"],message:"\nHi Matt, I saw your work on instagram and would be interested in getting a quote for Logo and slider\n\nInteger velit massa, pharetra sed lacus eu, pulvinar faucibus ex. Ut pretium ex id turpis elementum, aliquam accumsan enim sollicitudin. Sed nec consectetur lorem, ac ullamcorper augue. Suspendisse tempus ligula suscipit finibus vehicula. Morbi viverra finibus lectus, egestas dictum mi mollis nec. Proin eget vehicula eros, sit amet molestie ipsum. Morbi feugiat, elit non placerat fringilla, leo risus tristique felis, sollicitudin tristique nibh arcu nec arcu. Maecenas vel turpis nibh. Etiam in lectus quis felis facilisis dictum. Morbi id vehicula lectus, vel imperdiet dolor. Phasellus consequat tempor tellus, quis placerat quam posuere eget. Mauris blandit, nisl eu sollicitudin tincidunt, tellus diam accumsan arcu, vel pharetra lectus est nec nisi. In sem dolor, mollis sed risus eu, mattis dictum lectus. Suspendisse urna est, finibus et urna non, tincidunt placerat eros.\n\nDonec viverra ipsum id auctor rutrum. Morbi consequat a nunc non interdum. Nulla accumsan eget felis a dictum. Cras rhoncus tortor eget velit fringilla suscipit. Donec quis arcu eu nibh aliquet auctor eget fringilla felis. Sed commodo efficitur massa. Proin maximus elit in suscipit laoreet. Integer pretium arcu ac mauris ullamcorper auctor. Vivamus tincidunt lacus eget purus feugiat tincidunt. Etiam feugiat gravida ullamcorper. Pellentesque cursus vehicula lectus et consectetur. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam ligula risus, congue eu pellentesque id, volutpat aliquam arcu. Donec efficitur ipsum id neque rhoncus viverra. Vestibulum hendrerit et eros eu bibendum.\n\n\nKind regards,\n\nMarcus Finn\n    ",subject:"Website redesign. Interested in collaboration",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]},{id:"5e86bcbd8406cd3055f2b6c8",createdAt:B.getTime(),folder:"spam",from:{avatar:"/assets/avatars/avatar-miron-vitold.png",email:"miron.vitold@devias.io",name:"Miron Vitold"},isImportant:!1,isStarred:!0,isUnread:!1,labelIds:[],message:"\nHey, nice projects! I really liked the one in react. What's your quote on kinda similar project?\n    ",subject:"Amazing work",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]},{id:"5e86bcb9fee1ec12453fa13b",createdAt:B.getTime(),folder:"inbox",from:{avatar:"/assets/avatars/avatar-penjani-inyene.png",email:"penjani.inyene@devias.io",name:"Penjani Inyene"},isImportant:!1,isStarred:!1,isUnread:!1,labelIds:["business"],message:"\nDear Anika, Your flight is coming up soon. Please donâ€™t forget to check in for your scheduled flight.\n    ",subject:"Flight reminder",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]},{id:"5e86bcb5575181a5e527e24f",createdAt:B.getTime(),folder:"trash",from:{avatar:"/assets/avatars/avatar-carson-darrin.png",email:"carson.darrin@devias.io",name:"Carson Darrin"},isImportant:!1,isStarred:!1,isUnread:!0,labelIds:["personal"],message:"\nMy market leading client has another fantastic opportunity for an experienced Software Developer to join them on a heavily remote basis\n    ",subject:"Possible candidates for the position",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]}],U=new(function(){function e(){(0,O.Z)(this,e)}return(0,F.Z)(e,[{key:"getLabels",value:function(e){return Promise.resolve((0,H.p)(G))}},{key:"getEmails",value:function(e){var n=e.label;return new Promise(function(e,t){try{var r=(0,H.p)(N),i=[],a=G.reduce(function(e,n){return"custom"===n.type&&e.push(n.id),e},[]);if(n&&a.includes(n))i=r.filter(function(e){return e.labelIds.includes(n)});else switch(n){case void 0:case"inbox":i=r.filter(function(e){return"inbox"===e.folder});break;case"all":i=(0,_.Z)(r);break;case"sent":case"trash":i=r.filter(function(e){return e.folder===n});break;case"starred":i=r.filter(function(e){return e.isStarred});break;case"important":i=r.filter(function(e){return e.isImportant})}e(i)}catch(s){console.error("[Mail Api]: ",s),t(Error("Internal server error"))}})}},{key:"getEmail",value:function(e){var n=e.emailId;return new Promise(function(e,t){try{var r=(0,H.p)(N).find(function(e){return e.id===n});if(!r){t(Error("Email not found"));return}e(r)}catch(i){console.error("[Mail Api]: ",i),t(Error("Internal server error"))}})}}]),e}()),V=t(78285),K={getEmail:function(e){var n;return n=(0,R.Z)(function(n){var t;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,U.getEmail(e)];case 1:return t=r.sent(),n(V.t.actions.getEmail(t)),[2]}})}),function(e){return n.apply(this,arguments)}},getEmails:function(e){var n;return n=(0,R.Z)(function(n){var t;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,U.getEmails(e)];case 1:return t=r.sent(),n(V.t.actions.getEmails(t)),[2]}})}),function(e){return n.apply(this,arguments)}},getLabels:function(){var e;return e=(0,R.Z)(function(e){var n;return(0,L.__generator)(this,function(t){switch(t.label){case 0:return[4,U.getLabels()];case 1:return n=t.sent(),e(V.t.actions.getLabels(n)),[2]}})}),function(n){return e.apply(this,arguments)}}},Q=t(25308),Y=t(87952),X=function(e){var n=e.attachments,t=void 0===n?[]:n,r=t.length;return(0,s.jsxs)(A.Z,{spacing:2,children:[(0,s.jsxs)(I.Z,{variant:"h6",children:[r," Attachments"]}),(0,s.jsx)(A.Z,{alignItems:"flex-start",direction:"row",spacing:2,flexWrap:"wrap",children:t.map(function(e){return(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:1,sx:{alignItems:"center",cursor:"pointer",display:"flex"},children:["image"===e.type&&(0,s.jsx)(Y.Z,{src:e.url,variant:"rounded"}),"file"===e.type&&(0,s.jsx)(Y.Z,{variant:"rounded",sx:{backgroundColor:"primary.light"},children:(0,s.jsx)(I.Z,{variant:"overline",children:"PDF"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Z,{noWrap:!0,variant:"subtitle2",children:e.name}),(0,s.jsx)(I.Z,{color:"text.secondary",variant:"body2",children:e.size})]})]},e.id)})}),(0,s.jsx)("div",{children:(0,s.jsx)(z.Z,{color:"inherit",startIcon:(0,s.jsx)(q.Z,{children:(0,s.jsx)(Q.Z,{})}),size:"small",children:"Download all"})})]})};X.propTypes={attachments:g().array};var $=t(73985),J=t(90948),ee=(0,J.ZP)("div")(function(e){var n=e.theme;return{color:n.palette.text.primary,fontFamily:n.typography.body1.fontFamily,"& > p":{fontSize:n.typography.body1.fontSize,lineHeight:n.typography.body1.lineHeight,marginBottom:n.spacing(2)}}}),en=function(e){var n=e.message;return(0,s.jsx)(ee,{children:(0,s.jsx)($.D,{children:void 0===n?"":n})})};en.propTypes={message:g().string};var et=t(59938),er=t(71471),ei=t(93155),ea=t(61),es=function(e){var n=(0,ea.I)(),t=(0,o.useRef)(null),l=(0,a.Z)((0,o.useState)(""),2),c=l[0],d=l[1],u=(0,o.useCallback)(function(e){d(e.target.value)},[]),h=(0,o.useCallback)(function(){var e;null===(e=t.current)||void 0===e||e.click()},[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,(0,i.Z)((0,r.Z)({sx:{p:3}},e),{children:(0,s.jsxs)(A.Z,{alignItems:"flex-start",direction:"row",spacing:2,children:[(0,s.jsx)(Y.Z,{src:n.avatar}),(0,s.jsxs)(m.Z,{sx:{flexGrow:1},children:[(0,s.jsx)(ei.Z,{fullWidth:!0,maxRows:7,minRows:3,multiline:!0,onChange:u,placeholder:"Leave a message",value:c,variant:"outlined"}),(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{mt:2},children:[(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,s.jsx)(P.Z,{title:"Attach image",children:(0,s.jsx)(S.Z,{onClick:h,size:"small",children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(Z.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Attach file",children:(0,s.jsx)(S.Z,{onClick:h,size:"small",children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(j.Z,{})})})}),(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(er.Z,{})})}),(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(et.Z,{})})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(z.Z,{variant:"contained",children:"Reply"})})]})]})]})})),(0,s.jsx)("input",{hidden:!0,ref:t,type:"file"})]})},eo=t(41664),el=t.n(eo),ec=t(32912),ed=t(30136),eu=t(22390),eh=t(27264),em=t(83075),ex=t(95226),ep=t(72591),ef=t(57709),eg=t(87109),ej=t(23795),eb=t(64459),eZ=t(81924),ev=t(30682),ey=function(e){var n=e.backHref,t=e.createdAt,r=e.from,i=e.to,a=(0,u.Z)(function(e){return e.breakpoints.up("md")}),o=(0,ec.Z)(t,"MMMM d yyyy, h:mm:ss a");return(0,s.jsxs)("div",{children:[(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[(0,s.jsx)("div",{children:(0,s.jsx)(P.Z,{title:"Back",children:(0,s.jsx)(S.Z,{component:el(),href:n,children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(ed.Z,{})})})})}),(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,s.jsx)(ef.Z,{fullWidth:!0,placeholder:"Search message",size:"small",startAdornment:(0,s.jsx)(eg.Z,{position:"start",children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(ex.Z,{})})}),sx:{width:200}}),(0,s.jsx)(P.Z,{title:"Previous email",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eu.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Next email",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eh.Z,{})})})})]})]}),(0,s.jsx)(h.Z,{}),(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:3},children:[(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,s.jsx)(Y.Z,{src:r.avatar||void 0,sx:{height:48,width:48},children:(0,ev.Q)(r.name)}),(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Z,{component:"span",variant:"subtitle2",children:r.name})," ",(0,s.jsx)(ej.Z,{color:"text.secondary",component:"span",variant:"body2",children:r.email}),(0,s.jsxs)(I.Z,{color:"text.secondary",variant:"subtitle2",children:["To:"," ",i.map(function(e){return(0,s.jsx)(ej.Z,{color:"inherit",children:e.email},e.email)})]}),o&&(0,s.jsx)(I.Z,{color:"text.secondary",noWrap:!0,variant:"caption",children:o})]})]}),(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:1,children:[a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.Z,{title:"Reply",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eb.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Reply all",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eZ.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Delete",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(ep.Z,{})})})})]}),(0,s.jsx)(P.Z,{title:"More options",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(em.Z,{})})})})]})]})]})};ey.propTypes={backHref:g().string.isRequired,createdAt:g().number.isRequired,from:g().object.isRequired,to:g().array.isRequired};var eC=function(e){var n=(0,D.I0)(),t=(0,D.v9)(function(n){return n.mail.emails.byId[e]});return(0,o.useEffect)(function(){n(K.getEmail({emailId:e}))},[e]),t},ek=function(e){var n=e.emailId,t=e.currentLabelId,r=eC(n);if(!r)return null;var i=t&&"inbox"!==t?W.H.dashboard.mail+"?label=".concat(t):W.H.dashboard.mail,a=!!r.message,o=r.attachments&&r.attachments.length>0;return(0,s.jsxs)(A.Z,{sx:{flexGrow:1,height:"100%",overflowY:"auto"},children:[(0,s.jsx)(ey,{backHref:i,createdAt:r.createdAt,from:r.from,to:r.to}),(0,s.jsxs)(m.Z,{sx:{flexGrow:1,px:3,py:6},children:[(0,s.jsx)(I.Z,{variant:"h3",children:r.subject}),(0,s.jsxs)(A.Z,{sx:{mt:2},spacing:6,children:[a&&(0,s.jsx)(en,{message:r.message}),o&&(0,s.jsx)(X,{attachments:r.attachments})]})]}),(0,s.jsx)(es,{})]})};ek.propTypes={emailId:g().string.isRequired,currentLabelId:g().string};var ew=t(14924),eI=(0,J.ZP)("div",{shouldForwardProp:function(e){return"open"!==e}})(function(e){var n,t,i=e.theme,a=e.open;return(0,r.Z)((n={flexGrow:1,overflow:"hidden"},(0,ew.Z)(n,i.breakpoints.up("md"),{marginLeft:-280}),(0,ew.Z)(n,"transition",i.transitions.create("margin",{easing:i.transitions.easing.sharp,duration:i.transitions.duration.leavingScreen})),n),a&&(t={},(0,ew.Z)(t,i.breakpoints.up("md"),{marginLeft:0}),(0,ew.Z)(t,"transition",i.transitions.create("margin",{easing:i.transitions.easing.easeOut,duration:i.transitions.duration.enteringScreen})),t))}),eS=t(99534),eq=t(11347),eM=t(70139),eA=t(69368),eP=t(86093),ez=t(14070),eT=t(87918),eE=function(e){var n=e.email,t=e.onDeselect,a=e.onSelect,l=e.selected,c=e.href,d=(0,eS.Z)(e,["email","onDeselect","onSelect","selected","href"]),u=(0,o.useCallback)(function(e){e.target.checked?null==a||a():null==t||t()},[a,t]),h=(0,ec.Z)(n.createdAt,"dd MMM"),x=!!(n.attachments&&n.attachments.length>0),p=!!(n.attachments&&n.attachments.length>1);return(0,s.jsxs)(m.Z,(0,i.Z)((0,r.Z)({sx:(0,r.Z)({alignItems:"center",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"divider",display:"flex",p:2},!n.isUnread&&{position:"relative","&:before":{backgroundColor:"primary.main",content:'" "',height:"100%",left:0,position:"absolute",top:0,width:4},"& $name, & $subject":{fontWeight:600}},l&&{backgroundColor:"primary.lightest"},!l&&{"&:hover":{backgroundColor:"action.hover"}})},d),{children:[(0,s.jsxs)(m.Z,{sx:{alignItems:"center",display:{md:"flex",xs:"none"},mr:1},children:[(0,s.jsx)(eA.Z,{checked:l,onChange:u}),(0,s.jsx)(P.Z,{title:"Starred",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{sx:(0,r.Z)({},n.isStarred&&{color:"warning.main","& path":{fill:function(e){return e.palette.warning.main},fillOpacity:1}}),children:(0,s.jsx)(ez.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Important",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{sx:(0,r.Z)({},n.isImportant&&{color:"warning.main","& path":{fill:function(e){return e.palette.warning.main},fillOpacity:1}}),children:(0,s.jsx)(eP.Z,{})})})})]}),(0,s.jsxs)(m.Z,{component:el(),href:c,sx:{alignItems:"center",cursor:"pointer",display:"flex",flexGrow:1,flexWrap:{xs:"wrap",md:"nowrap"},minWidth:1,textDecoration:"none"},children:[(0,s.jsxs)(m.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,s.jsx)(Y.Z,{src:n.from.avatar||void 0,children:(0,ev.Q)(n.from.name)}),(0,s.jsx)(I.Z,{color:"text.primary",sx:(0,r.Z)({width:120,ml:2},!n.isUnread&&{fontWeight:600}),noWrap:!0,variant:"body2",children:n.from.name})]}),(0,s.jsxs)(m.Z,{sx:{flexGrow:1,ml:{xs:0,md:2},my:{xs:2,md:0},overflow:"hidden",width:{xs:"100%",md:"auto"}},children:[(0,s.jsxs)(m.Z,{sx:{alignItems:"center",display:"flex",maxWidth:800,width:"100%"},children:[(0,s.jsx)(I.Z,{color:"text.primary",sx:{fontWeight:600,minWidth:100,maxWidth:400,mr:1},noWrap:!0,variant:"body2",children:n.subject}),(0,s.jsxs)(I.Z,{color:"text.secondary",noWrap:!0,variant:"body2",children:["â€”",n.message]})]}),x&&(0,s.jsxs)(m.Z,{sx:{mt:1},children:[(0,s.jsx)(eT.Z,{icon:(0,s.jsx)(q.Z,{children:(0,s.jsx)(j.Z,{})}),label:n.attachments[0].name,size:"small"}),p&&(0,s.jsx)(eT.Z,{label:"+1",size:"small",sx:{ml:1}})]})]}),(0,s.jsx)(I.Z,{color:"text.secondary",variant:"caption",sx:{display:"block",textAlign:{xs:"left",md:"right"},whiteSpace:"nowrap",width:100},children:h})]})]}))};eE.propTypes={email:g().object.isRequired,href:g().string.isRequired,onDeselect:g().func,onSelect:g().func,selected:g().bool.isRequired};var eW=function(e){var n=(0,D.I0)(),t=(0,D.v9)(function(e){return e.mail}).emails;return(0,o.useEffect)(function(){n(K.getEmails({label:e}))},[e]),t},eD=function(e){var n=(0,a.Z)((0,o.useState)([]),2),t=n[0],r=n[1];(0,o.useEffect)(function(){r([])},[e]);var i=(0,o.useCallback)(function(e){r(function(n){return n.includes(e)?n:(0,_.Z)(n).concat([e])})},[]),s=(0,o.useCallback)(function(e){r(function(n){return n.filter(function(n){return n!==e})})},[]),l=(0,o.useCallback)(function(){r((0,_.Z)(e))},[e]);return{handleDeselectAll:(0,o.useCallback)(function(){r([])},[]),handleDeselectOne:s,handleSelectAll:l,handleSelectOne:i,selected:t}},eR=function(e){var n=e.currentLabelId,t=e.onSidebarToggle,a=(0,eS.Z)(e,["currentLabelId","onSidebarToggle"]),l=eW(n),c=eD(l.allIds),d=c.handleDeselectAll,u=c.handleDeselectOne,x=c.handleSelectAll,p=c.handleSelectOne,f=c.selected,g=(0,o.useCallback)(function(e){e.target.checked?x():d()},[x,d]),j=f.length===l.allIds.length,b=f.length>0&&f.length<l.allIds.length,Z=l.allIds.length>0;return(0,s.jsxs)(A.Z,(0,i.Z)((0,r.Z)({sx:{height:"100%",overflow:"hidden"}},a),{children:[(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[(0,s.jsx)("div",{children:(0,s.jsx)(S.Z,{onClick:t,children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eq.Z,{})})})}),(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,s.jsx)(ef.Z,{fullWidth:!0,placeholder:"Search email",size:"small",startAdornment:(0,s.jsx)(eg.Z,{position:"start",children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(ex.Z,{})})}),sx:{width:200}}),(0,s.jsxs)(I.Z,{color:"text.secondary",sx:{display:{xs:"none",md:"block"},mx:2,whiteSpace:"nowrap"},variant:"body2",children:["1 - ",l.allIds.length," of ",l.allIds.length]}),(0,s.jsx)(P.Z,{title:"Next page",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eu.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Previous page",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eh.Z,{})})})}),(0,s.jsx)(P.Z,{title:"Refresh",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eM.Z,{})})})})]})]}),(0,s.jsx)(h.Z,{}),Z?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(m.Z,{sx:{alignItems:"center",borderBottomColor:"divider",borderBottomStyle:"solid",borderBottomWidth:1,display:{xs:"none",md:"flex"},p:2},children:[(0,s.jsx)(eA.Z,{checked:j,indeterminate:b,onChange:g}),(0,s.jsx)(I.Z,{variant:"subtitle2",children:"Select all"}),(0,s.jsx)(m.Z,{sx:{flexGrow:1}}),(0,s.jsx)(P.Z,{title:"More options",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(em.Z,{})})})})]}),(0,s.jsx)("div",{children:l.allIds.map(function(e){var t=f.includes(e),r=n&&"inbox"!==n?W.H.dashboard.mail+"?emailId=".concat(e,"&label=").concat(n):W.H.dashboard.mail+"?emailId=".concat(e);return(0,s.jsx)(eE,{email:l.byId[e],href:r,onDeselect:function(){return u(e)},onSelect:function(){return p(e)},selected:t},e)})})]}):(0,s.jsxs)(A.Z,{alignItems:"center",justifyContent:"center",spacing:2,sx:{flexGrow:1,p:2},children:[(0,s.jsx)(m.Z,{component:"img",src:"/assets/errors/error-404.png",sx:{height:"auto",maxWidth:120}}),(0,s.jsx)(I.Z,{color:"text.secondary",variant:"h5",children:"There are no emails"})]})]}))};eR.propTypes={currentLabelId:g().string,onSidebarToggle:g().func};var eL=t(10216),eO=t(75438),eF=t(78462),e_=t(77533),eH=t(75478),eB=t(25944),eG=t(48687),eN=t(8437),eU=t(3753),eV=t(4593),eK=t(19294),eQ=t(49990),eY={all:(0,s.jsx)(eG.Z,{}),inbox:(0,s.jsx)(eB.Z,{}),sent:(0,s.jsx)(eU.Z,{}),trash:(0,s.jsx)(ep.Z,{}),drafts:(0,s.jsx)(eN.Z,{}),spam:(0,s.jsx)(eH.Z,{}),starred:(0,s.jsx)(ez.Z,{}),important:(0,s.jsx)(eP.Z,{})},eX=function(e){var n=e.active,t=e.label,a=(0,eS.Z)(e,["active","label"]),o="system"===t.type?eY[t.id]:(0,s.jsx)(eV.Z,{}),l="custom"===t.type&&t.color||"inherit",c=!!(t.unreadCount&&t.unreadCount>0);return(0,s.jsx)(eK.ZP,(0,i.Z)((0,r.Z)({disableGutters:!0,disablePadding:!0,sx:{"& + &":{mt:1}}},a),{children:(0,s.jsxs)(eQ.Z,{sx:(0,r.Z)({borderRadius:1,color:"text.secondary",flexGrow:1,fontSize:function(e){return e.typography.button.fontSize},fontWeight:function(e){return e.typography.button.fontWeight},justifyContent:"flex-start",lineHeight:function(e){return e.typography.button.lineHeight},py:1,px:2,textAlign:"left","&:hover":{backgroundColor:"action.hover"}},n&&{backgroundColor:"action.selected",color:"text.primary"}),children:[(0,s.jsx)(q.Z,{sx:{color:l,mr:1},children:o}),(0,s.jsx)(m.Z,{sx:{flexGrow:1},children:t.name}),c&&(0,s.jsx)(I.Z,{color:"inherit",variant:"subtitle2",children:t.unreadCount})]})}))};eX.propTypes={active:g().bool,label:g().object.isRequired,onClick:g().func};var e$=function(e){var n={system:[],custom:[]};return e.forEach(function(e){"system"===e.type?n.system.push(e):n.custom.push(e)}),n},eJ=function(e){var n=e.currentLabelId,t=void 0===n?"inbox":n,a=e.container,c=e.labels,d=e.onClose,h=e.onCompose,x=e.open,p=(0,eS.Z)(e,["currentLabelId","container","labels","onClose","onCompose","open"]),f=(0,l.useRouter)(),g=(0,u.Z)(function(e){return e.breakpoints.up("md")}),j=(0,o.useCallback)(function(e){g||null==d||d();var n="inbox"!==e.id?W.H.dashboard.mail+"?label=".concat(e.id):W.H.dashboard.mail;f.push(n)},[f,g,d]),b=e$(c),Z=(0,s.jsxs)("div",{children:[(0,s.jsxs)(A.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pt:2,px:2},children:[(0,s.jsx)(I.Z,{variant:"h5",sx:{flexGrow:1},children:"Mailbox"}),!g&&(0,s.jsx)(S.Z,{onClick:d,children:(0,s.jsx)(q.Z,{children:(0,s.jsx)(y.Z,{})})})]}),(0,s.jsx)(m.Z,{sx:{p:2},children:(0,s.jsx)(z.Z,{fullWidth:!0,onClick:h,startIcon:(0,s.jsx)(q.Z,{children:(0,s.jsx)(eL.Z,{})}),sx:{mt:2},variant:"contained",children:"Compose"})}),(0,s.jsx)(m.Z,{sx:{pb:2,px:2},children:Object.keys(b).map(function(e){return(0,s.jsxs)(o.Fragment,{children:["custom"===e&&(0,s.jsx)(eO.Z,{disableSticky:!0,children:(0,s.jsx)(I.Z,{color:"text.secondary",variant:"overline",children:"Labels"})}),(0,s.jsx)(eF.Z,{disablePadding:!0,children:b[e].map(function(e){var n=t===e.id;return(0,s.jsx)(eX,{active:n,label:e,onClick:function(){return j(e)}},e.id)})})]},e)})})]});return g?(0,s.jsx)(e_.ZP,(0,i.Z)((0,r.Z)({anchor:"left",open:x,PaperProps:{sx:{position:"relative",width:280}},SlideProps:{container:a},variant:"persistent"},p),{children:Z})):(0,s.jsx)(e_.ZP,(0,i.Z)((0,r.Z)({anchor:"left",hideBackdrop:!0,ModalProps:{container:a,sx:{pointerEvents:"none",position:"absolute"}},onClose:d,open:x,PaperProps:{sx:{maxWidth:"100%",width:280,pointerEvents:"auto",position:"absolute"}},SlideProps:{container:a},variant:"temporary"},p),{children:Z}))};eJ.propTypes={container:g().any,currentLabelId:g().string,labels:g().array.isRequired,onClose:g().func,onCompose:g().func,open:g().bool};var e0=function(){var e=(0,l.useSearchParams)();return{emailId:e.get("emailId")||void 0,label:e.get("label")||void 0}},e1=function(){var e=(0,D.I0)(),n=(0,D.v9)(function(e){return e.mail.labels}),t=(0,o.useCallback)(function(){e(K.getLabels())},[e]);return(0,o.useEffect)(function(){t()},[]),n},e2=function(){var e={isFullScreen:!1,isOpen:!1,message:"",subject:"",to:""},n=(0,a.Z)((0,o.useState)(e),2),t=n[0],s=n[1],l=(0,o.useCallback)(function(){s(function(e){return(0,i.Z)((0,r.Z)({},e),{isOpen:!0})})},[]),c=(0,o.useCallback)(function(){s(e)},[]),d=(0,o.useCallback)(function(){s(function(e){return(0,i.Z)((0,r.Z)({},e),{isFullScreen:!0})})},[]),u=(0,o.useCallback)(function(){s(function(e){return(0,i.Z)((0,r.Z)({},e),{isFullScreen:!1})})},[]),h=(0,o.useCallback)(function(e){s(function(n){return(0,i.Z)((0,r.Z)({},n),{message:e})})},[]),m=(0,o.useCallback)(function(e){s(function(n){return(0,i.Z)((0,r.Z)({},n),{subject:e})})},[]),x=(0,o.useCallback)(function(e){s(function(n){return(0,i.Z)((0,r.Z)({},n),{to:e})})},[]);return(0,i.Z)((0,r.Z)({},t),{handleClose:c,handleMaximize:d,handleMessageChange:h,handleMinimize:u,handleOpen:l,handleSubjectChange:m,handleToChange:x})},e8=function(){var e=(0,u.Z)(function(e){return e.breakpoints.up("md")}),n=(0,a.Z)((0,o.useState)(e),2),t=n[0],r=n[1],i=(0,o.useCallback)(function(){e?r(!0):r(!1)},[e]);return(0,o.useEffect)(function(){i()},[e]),{isOpen:t,handleToggle:(0,o.useCallback)(function(){r(function(e){return!e})},[]),handleClose:(0,o.useCallback)(function(){r(!1)},[])}},e3=function(){var e=(0,o.useRef)(null),n=e0(),t=n.emailId,r=n.label,i=e1(),a=e2(),l=e8();(0,x.a)();var c=t?"details":"list";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{children:(0,s.jsx)("title",{children:"Dashboard: Mail | Devias Kit PRO"})}),(0,s.jsx)(h.Z,{}),(0,s.jsx)(m.Z,{component:"main",sx:{backgroundColor:"background.paper",flex:"1 1 auto",overflow:"hidden",position:"relative"},children:(0,s.jsxs)(m.Z,{ref:e,sx:{bottom:0,display:"flex",left:0,position:"absolute",right:0,top:0},children:[(0,s.jsx)(eJ,{container:e.current,currentLabelId:r,labels:i,onClose:l.handleClose,onCompose:a.handleOpen,open:l.isOpen}),(0,s.jsxs)(eI,{open:l.isOpen,children:["details"===c&&(0,s.jsx)(ek,{currentLabelId:r,emailId:t}),"list"===c&&(0,s.jsx)(eR,{currentLabelId:r,onSidebarToggle:l.handleToggle})]})]})}),(0,s.jsx)(E,{maximize:a.isFullScreen,message:a.message,onClose:a.handleClose,onMaximize:a.handleMaximize,onMessageChange:a.handleMessageChange,onMinimize:a.handleMinimize,onSubjectChange:a.handleSubjectChange,onToChange:a.handleToChange,open:a.isOpen,subject:a.subject,to:a.to})]})};e3.getLayout=function(e){return(0,s.jsx)(p.A,{children:e})};var e6=e3},5704:function(e,n,t){"use strict";t.d(n,{p:function(){return function e(n){return"object"!=typeof n||null===n?n:n instanceof Date?new Date(n.getTime()):n instanceof Array?n.reduce(function(n,t,r){return n[r]=e(t),n},[]):n instanceof Object?Object.keys(n).reduce(function(t,r){return t[r]=e(n[r]),t},{}):void 0}}})},30682:function(e,n,t){"use strict";t.d(n,{Q:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(function(e){return e&&e[0].toUpperCase()}).join("")}}},function(e){e.O(0,[1664,5978,1238,8360,1273,1220,1813,6383,5104,3985,2183,8882,8113,9639,9774,2888,179],function(){return e(e.s=86098)}),_N_E=e.O()}]);