(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3259],{60243:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/calendar",function(){return n(58134)}])},70563:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(67294),a=n(56204),i=function(){(0,r.useEffect)(function(){a.w.push({event:"page_view"})},[])}},58134:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eZ}});var r=n(47568),a=n(828),i=n(70655),o=n(85893);n(6321),n(34120),n(72403),n(90207),n(35765);var l=n(67294),s=n(9008),c=n.n(s),u=n(83598),d=n(73358),p=n(46842),f=n(8310),v=n(73285),h=n(34649),g=n(98396),y=n(36822),m=n(21214),Z=n(26447),b=n(66242),x=n(70563),D=n(9639),C=n(26042),w=n(45697),j=n.n(w),k=n(86501),E=n(58545),T=n(74231),_=n(82175),S=n(72591),I=n(42492),A=n(15861),P=n(93155),W=n(50480),M=n(45843),G=n(56815),O=n(67720),R=n(93946),V=n(53219),F=n(11057),z=n(99045),B=n(83720),N=n(51438),q=n(52951),H=n(60116),X=n(5704),J=n(37042),K=n(4543),L=n(7069),U=n(77349),Q=n(69119),Y=n(83894),$=new Date,ee={events:[{id:"5e8882e440f6322fa399eeb8",allDay:!1,description:"Inform about new contract",end:(0,J.Z)((0,K.Z)((0,L.Z)($,6),0),19).getTime(),start:(0,J.Z)((0,K.Z)((0,L.Z)($,6),30),17).getTime(),title:"Call Samantha"},{id:"5e8882eb5f8ec686220ff131",allDay:!1,description:"Discuss about new partnership",end:(0,J.Z)((0,K.Z)((0,U.Z)($,2),30),15).getTime(),start:(0,J.Z)((0,K.Z)((0,U.Z)($,2),0),12).getTime(),title:"Meet with IBM"},{id:"5e8882f1f0c9216396e05a9b",allDay:!1,description:"Prepare docs",end:(0,J.Z)((0,K.Z)((0,U.Z)($,5),0),12).getTime(),start:(0,J.Z)((0,K.Z)((0,U.Z)($,5),0),8).getTime(),title:"SCRUM Planning"},{id:"5e8882f6daf81eccfa40dee2",allDay:!0,description:"Meet with team to discuss",end:(0,Q.Z)((0,L.Z)($,11)).getTime(),start:(0,Y.Z)((0,L.Z)($,12)).getTime(),title:"Begin SEM"},{id:"5e8882fcd525e076b3c1542c",allDay:!1,color:"#F79009",description:"Sorry, John!",end:(0,J.Z)((0,K.Z)((0,U.Z)($,3),31),7).getTime(),start:(0,J.Z)((0,K.Z)((0,U.Z)($,3),30),7).getTime(),title:"Fire John"},{id:"5e888302e62149e4b49aa609",allDay:!1,color:"#F04438",description:"Discuss about the new project",end:(0,J.Z)((0,K.Z)((0,L.Z)($,6),30),9).getTime(),start:(0,J.Z)((0,K.Z)((0,L.Z)($,6),0),9).getTime(),title:"Call Alex"},{id:"5e88830672d089c53c46ece3",allDay:!1,color:"#F04438",description:"Get a new quote for the payment processor",end:(0,J.Z)((0,K.Z)($,30),17).getTime(),start:(0,J.Z)((0,K.Z)($,30),15).getTime(),title:"Visit Samantha"}]},et=new(function(){function e(){(0,N.Z)(this,e)}return(0,q.Z)(e,[{key:"getEvents",value:function(e){return Promise.resolve((0,X.p)(ee.events))}},{key:"createEvent",value:function(e){var t=e.allDay,n=e.description,r=e.end,a=e.start,i=e.title;return new Promise(function(e,o){try{var l=(0,X.p)(ee.events),s={id:(0,H.h)(),allDay:t,description:n,end:r,start:a,title:i};l.push(s),ee.events=l,e((0,X.p)(s))}catch(c){console.error("[Calendar Api]: ",c),o(Error("Internal server error"))}})}},{key:"updateEvent",value:function(e){var t=e.eventId,n=e.update;return new Promise(function(e,r){try{var a=(0,X.p)(ee.events),i=a.find(function(e){return e.id===t});if(!i){r(Error("Event not found"));return}Object.assign(i,n),ee.events=a,e((0,X.p)(i))}catch(o){console.error("[Calendar Api]: ",o),r(Error("Internal server error"))}})}},{key:"deleteEvent",value:function(e){var t=e.eventId;return new Promise(function(e,n){try{var r=(0,X.p)(ee.events);if(!r.find(function(e){return e.id===t})){n(Error("Event not found"));return}r=r.filter(function(e){return e.id!==t}),ee.events=r,e(!0)}catch(a){console.error("[Calendar Api]: ",a),n(Error("Internal server error"))}})}}]),e}()),en=n(70246),er={createEvent:function(e){var t;return t=(0,r.Z)(function(t){var n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return[4,et.createEvent(e)];case 1:return n=r.sent(),t(en.t.actions.createEvent(n)),[2]}})}),function(e){return t.apply(this,arguments)}},deleteEvent:function(e){var t;return t=(0,r.Z)(function(t){return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,et.deleteEvent(e)];case 1:return n.sent(),t(en.t.actions.deleteEvent(e.eventId)),[2]}})}),function(e){return t.apply(this,arguments)}},getEvents:function(){var e;return e=(0,r.Z)(function(e){var t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,et.getEvents()];case 1:return t=n.sent(),e(en.t.actions.getEvents(t)),[2]}})}),function(t){return e.apply(this,arguments)}},updateEvent:function(e){var t;return t=(0,r.Z)(function(t){var n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return[4,et.updateEvent(e)];case 1:return n=r.sent(),t(en.t.actions.updateEvent(n)),[2]}})}),function(e){return t.apply(this,arguments)}}},ea=T.Ry({allDay:T.Xg(),description:T.Z_().max(5e3),end:T.hT(),start:T.hT(),title:T.Z_().max(255).required("Title is required")}),ei=function(e){var t,n=e.event,a=e.onAddComplete,s=e.onClose,c=e.onDeleteComplete,u=e.onEditComplete,d=e.open,p=e.range,f=(0,B.I0)(),v=(0,l.useMemo)(function(){return n?{allDay:n.allDay||!1,color:n.color||"",description:n.description||"",end:n.end?new Date(n.end):(0,E.Z)(new Date,30),start:n.start?new Date(n.start):new Date,title:n.title||"",submit:null}:p?{allDay:!1,color:"",description:"",end:new Date(p.end),start:new Date(p.start),title:"",submit:null}:{allDay:!1,color:"",description:"",end:(0,E.Z)(new Date,30),start:new Date,title:"",submit:null}},[n,p]),h=(0,_.TA)({enableReinitialize:!0,initialValues:v,validationSchema:ea,onSubmit:(t=(0,r.Z)(function(e,t){var r,o;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,5,,6]),r={allDay:e.allDay,description:e.description,end:e.end.getTime(),start:e.start.getTime(),title:e.title},!n)return[3,2];return[4,f(er.updateEvent({eventId:n.id,update:r}))];case 1:return i.sent(),k.ZP.success("Event updated"),[3,4];case 2:return[4,f(er.createEvent(r))];case 3:i.sent(),k.ZP.success("Event added"),i.label=4;case 4:return n?null==u||u():null==a||a(),[3,6];case 5:return console.error(o=i.sent()),k.ZP.error("Something went wrong!"),t.setStatus({success:!1}),t.setErrors({submit:o.message}),t.setSubmitting(!1),[3,6];case 6:return[2]}})}),function(e,n){return t.apply(this,arguments)})}),g=(0,l.useCallback)(function(e){h.setFieldValue("start",e),h.values.end&&e&&e>h.values.end&&h.setFieldValue("end",e)},[h]),m=(0,l.useCallback)(function(e){h.setFieldValue("end",e),h.values.start&&e&&e<h.values.start&&h.setFieldValue("start",e)},[h]),b=(0,l.useCallback)((0,r.Z)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:if(!n)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,f(er.deleteEvent({eventId:n.id}))];case 2:return e.sent(),null==c||c(),[3,4];case 3:return console.error(e.sent()),[3,4];case 4:return[2]}})}),[f,n,c]);return(0,o.jsx)(I.Z,{fullWidth:!0,maxWidth:"sm",onClose:s,open:void 0!==d&&d,children:(0,o.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,o.jsx)(y.Z,{sx:{p:3},children:(0,o.jsx)(A.Z,{align:"center",gutterBottom:!0,variant:"h5",children:n?"Edit Event":"Add Event"})}),(0,o.jsxs)(Z.Z,{spacing:2,sx:{p:3},children:[(0,o.jsx)(P.Z,{error:!!(h.touched.title&&h.errors.title),fullWidth:!0,helperText:h.touched.title&&h.errors.title,label:"Title",name:"title",onBlur:h.handleBlur,onChange:h.handleChange,value:h.values.title}),(0,o.jsx)(P.Z,{error:!!(h.touched.description&&h.errors.description),fullWidth:!0,helperText:h.touched.description&&h.errors.description,label:"Description",name:"description",onBlur:h.handleBlur,onChange:h.handleChange,value:h.values.description}),(0,o.jsx)(W.Z,{control:(0,o.jsx)(M.Z,{checked:h.values.allDay,name:"allDay",onChange:h.handleChange}),label:"All day"}),(0,o.jsx)(z.x,{label:"Start date",onChange:g,renderInput:function(e){return(0,o.jsx)(P.Z,(0,C.Z)({fullWidth:!0},e))},value:h.values.start}),(0,o.jsx)(z.x,{label:"End date",onChange:m,renderInput:function(e){return(0,o.jsx)(P.Z,(0,C.Z)({fullWidth:!0},e))},value:h.values.end}),!!(h.touched.end&&h.errors.end)&&(0,o.jsx)(G.Z,{error:!0,children:h.errors.end})]}),(0,o.jsx)(O.Z,{}),(0,o.jsxs)(Z.Z,{alignItems:"center",direction:"row",spacing:1,sx:{p:2},children:[n&&(0,o.jsx)(R.Z,{onClick:function(){return b()},children:(0,o.jsx)(V.Z,{children:(0,o.jsx)(S.Z,{})})}),(0,o.jsx)(y.Z,{sx:{flexGrow:1}}),(0,o.jsx)(F.Z,{color:"inherit",onClick:s,children:"Cancel"}),(0,o.jsx)(F.Z,{disabled:h.isSubmitting,type:"submit",variant:"contained",children:"Confirm"})]})]})})};ei.propTypes={event:j().object,onAddComplete:j().func,onClose:j().func,onDeleteComplete:j().func,onEditComplete:j().func,open:j().bool,range:j().object};var eo=n(69396),el=n(99534),es=n(32912),ec=n(22390),eu=n(27264),ed=n(10216),ep=[{label:"Month",value:"dayGridMonth"},{label:"Week",value:"timeGridWeek"},{label:"Day",value:"timeGridDay"},{label:"Agenda",value:"listWeek"}],ef=function(e){var t=e.date,n=e.onAddClick,r=e.onDateNext,a=e.onDatePrev,i=(e.onDateToday,e.onViewChange),s=e.view,c=(0,el.Z)(e,["date","onAddClick","onDateNext","onDatePrev","onDateToday","onViewChange","view"]),u=(0,g.Z)(function(e){return e.breakpoints.up("md")}),d=(0,l.useCallback)(function(e){null==i||i(e.target.value)},[i]),p=(0,es.Z)(t,"MMMM"),f=(0,es.Z)(t,"y"),v=(0,l.useMemo)(function(){return u?ep:ep.filter(function(e){return["timeGridDay","listWeek"].includes(e.value)})},[u]);return(0,o.jsxs)(Z.Z,(0,eo.Z)((0,C.Z)({alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",flexDirection:{xs:"column",md:"row"},spacing:3,sx:{px:3}},c),{children:[(0,o.jsxs)(Z.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,o.jsx)(A.Z,{variant:"h5",children:p}),(0,o.jsx)(A.Z,{sx:{fontWeight:400},variant:"h5",children:f})]}),(0,o.jsxs)(Z.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,o.jsx)(R.Z,{onClick:a,children:(0,o.jsx)(V.Z,{children:(0,o.jsx)(ec.Z,{})})}),(0,o.jsx)(R.Z,{onClick:r,children:(0,o.jsx)(V.Z,{children:(0,o.jsx)(eu.Z,{})})}),(0,o.jsx)(P.Z,{label:"View",name:"view",onChange:d,select:!0,SelectProps:{native:!0},size:"small",sx:{minWidth:120,order:{xs:-1,md:0}},value:s,children:v.map(function(e){return(0,o.jsx)("option",{value:e.value,children:e.label},e.value)})}),(0,o.jsx)(F.Z,{onClick:n,startIcon:(0,o.jsx)(V.Z,{children:(0,o.jsx)(ed.Z,{})}),sx:{width:{xs:"100%",md:"auto"}},variant:"contained",children:"New Event"})]})]}))};ef.propTypes={children:j().node,date:j().instanceOf(Date).isRequired,onAddClick:j().func,onDateNext:j().func,onDatePrev:j().func,onDateToday:j().func,onViewChange:j().func,view:j().oneOf(["dayGridMonth","timeGridWeek","timeGridDay","listWeek"]).isRequired};var ev=n(90948),eh=n(94581),eg=(0,ev.ZP)("div")(function(e){var t=e.theme;return{"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-event-bg-color":t.palette.primary.main,"--fc-event-border-color":t.palette.primary.main,"--fc-event-text-color":t.palette.primary.contrastText,"--fc-list-event-hover-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.default,"--fc-page-bg-color":t.palette.background.default,"--fc-today-bg-color":(0,eh.Fq)(t.palette.primary.main,.25),color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-col-header-cell-cushion":{paddingBottom:"10px",paddingTop:"10px",fontSize:t.typography.overline.fontSize,fontWeight:t.typography.overline.fontWeight,letterSpacing:t.typography.overline.letterSpacing,lineHeight:t.typography.overline.lineHeight,textTransform:t.typography.overline.textTransform},"& .fc .fc-day-other .fc-daygrid-day-top":{color:t.palette.text.secondary},"& .fc-daygrid-event":{borderRadius:t.shape.borderRadius,padding:"0px 4px",fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},"& .fc-daygrid-block-event .fc-event-time":{fontSize:t.typography.body2.fontSize,fontWeight:t.typography.body2.fontWeight,lineHeight:t.typography.body2.lineHeight},"& .fc-daygrid-day-frame":{padding:"12px"},"& .fc-scrollgrid":{borderColor:"transparent"},"& .fc-scrollgrid td:last-of-type":{borderRightColor:"transparent"},'& .fc-scrollgrid-section.fc-scrollgrid-section-body td[role="presentation"]':{borderBottomColor:"transparent"},'& [role="row"]:last-of-type td':{borderBottomColor:"transparent"},'& th[role="presentation"]':{borderRightColor:"transparent"},"& .fc-list":{borderColor:"transparent"}}}),ey=function(){var e=(0,B.I0)(),t=(0,B.v9)(function(e){return e.calendar.events}),n=(0,l.useCallback)(function(){e(er.getEvents())},[e]);return(0,l.useEffect)(function(){n()},[]),t},em=function(){var e,t,n,s=(0,B.I0)(),D=(0,l.useRef)(null),C=ey(),w=(0,g.Z)(function(e){return e.breakpoints.up("md")}),j=(0,a.Z)((0,l.useState)(new Date),2),k=j[0],E=j[1],T=(0,a.Z)((0,l.useState)(w?"timeGridDay":"dayGridMonth"),2),_=T[0],S=T[1],I=(0,a.Z)((0,l.useState)({isOpen:!1,data:void 0}),2),A=I[0],P=I[1],W=(0,l.useMemo)(function(){if(A.data)return C.find(function(e){return e.id===A.data.eventId})},[A,C]);(0,x.a)();var M=(0,l.useCallback)(function(){var e=D.current;if(e){var t=e.getApi(),n=w?"dayGridMonth":"timeGridDay";t.changeView(n),S(n)}},[D,w]);(0,l.useEffect)(function(){M()},[w]);var G=(0,l.useCallback)(function(e){var t=D.current;t&&(t.getApi().changeView(e),S(e))},[]),O=(0,l.useCallback)(function(){var e=D.current;if(e){var t=e.getApi();t.today(),E(t.getDate())}},[]),R=(0,l.useCallback)(function(){var e=D.current;if(e){var t=e.getApi();t.prev(),E(t.getDate())}},[]),V=(0,l.useCallback)(function(){var e=D.current;if(e){var t=e.getApi();t.next(),E(t.getDate())}},[]),F=(0,l.useCallback)(function(){P({isOpen:!0})},[]),z=(0,l.useCallback)(function(e){var t=D.current;t&&t.getApi().unselect(),P({isOpen:!0,data:{range:{start:e.start.getTime(),end:e.end.getTime()}}})},[]),N=(0,l.useCallback)(function(e){P({isOpen:!0,data:{eventId:e.event.id}})},[]),q=(0,l.useCallback)((e=(0,r.Z)(function(e){var t,n,r;return(0,i.__generator)(this,function(a){switch(a.label){case 0:t=e.event,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,s(er.updateEvent({eventId:t.id,update:{allDay:t.allDay,start:null===(n=t.start)||void 0===n?void 0:n.getTime(),end:null===(r=t.end)||void 0===r?void 0:r.getTime()}}))];case 2:return a.sent(),[3,4];case 3:return console.error(a.sent()),[3,4];case 4:return[2]}})}),function(t){return e.apply(this,arguments)}),[s]),H=(0,l.useCallback)((t=(0,r.Z)(function(e){var t,n,r;return(0,i.__generator)(this,function(a){switch(a.label){case 0:t=e.event,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,s(er.updateEvent({eventId:t.id,update:{allDay:t.allDay,start:null===(n=t.start)||void 0===n?void 0:n.getTime(),end:null===(r=t.end)||void 0===r?void 0:r.getTime()}}))];case 2:return a.sent(),[3,4];case 3:return console.error(a.sent()),[3,4];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),[s]),X=(0,l.useCallback)(function(){P({isOpen:!1})},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c(),{children:(0,o.jsx)("title",{children:"Dashboard: Calendar | Devias Kit PRO"})}),(0,o.jsx)(y.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,o.jsx)(m.Z,{maxWidth:"xl",children:(0,o.jsxs)(Z.Z,{spacing:3,children:[(0,o.jsx)(ef,{date:k,onAddClick:F,onDateNext:V,onDatePrev:R,onDateToday:O,onViewChange:G,view:_}),(0,o.jsx)(b.Z,{children:(0,o.jsx)(eg,{children:(0,o.jsx)(u.ZPm,{allDayMaintainDuration:!0,dayMaxEventRows:3,droppable:!0,editable:!0,eventClick:N,eventDisplay:"block",eventDrop:H,eventResizableFromStart:!0,eventResize:q,events:C,headerToolbar:!1,height:800,initialDate:k,initialView:_,plugins:[d.ZP,p.ZP,f.Z,v.ZP,h.ZP],ref:D,rerenderDelay:10,select:z,selectable:!0,weekends:!0})})})]})})}),(0,o.jsx)(ei,{event:W,onAddComplete:X,onClose:X,onDeleteComplete:X,onEditComplete:X,open:A.isOpen,range:null===(n=A.data)||void 0===n?void 0:n.range})]})};em.getLayout=function(e){return(0,o.jsx)(D.A,{children:e})};var eZ=em},5704:function(e,t,n){"use strict";n.d(t,{p:function(){return function e(t){return"object"!=typeof t||null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?t.reduce(function(t,n,r){return t[r]=e(n),t},[]):t instanceof Object?Object.keys(t).reduce(function(n,r){return n[r]=e(t[r]),n},{}):void 0}}})}},function(e){e.O(0,[4870,1664,5978,1238,8360,1273,1220,1813,6383,5104,939,1141,285,6886,7492,8063,158,9639,9774,2888,179],function(){return e(e.s=60243)}),_N_E=e.O()}]);