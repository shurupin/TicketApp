(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9558],{57598:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/products",function(){return t(8720)}])},24053:function(e,n,t){"use strict";t.d(n,{f:function(){return h}});var r=t(47568),a=t(51438),i=t(52951),l=t(70655),s=t(6154),c=t(48355),u=t(7069),o=t(88330),d=new Date;(0,u.Z)(d,1).getTime(),(0,o.Z)(d,6).getTime(),(0,u.Z)(d,3).getTime(),(0,u.Z)((0,o.Z)(d,8),2).getTime(),(0,u.Z)(d,6).getTime(),(0,u.Z)((0,o.Z)(d,2),1).getTime(),(0,u.Z)(d,12).getTime(),(0,u.Z)((0,o.Z)(d,7),1).getTime(),(0,u.Z)(d,4).getTime(),(0,u.Z)((0,o.Z)(d,1),1).getTime(),(0,u.Z)(d,6).getTime(),(0,u.Z)((0,o.Z)(d,3),3).getTime(),(0,u.Z)(d,7).getTime(),(0,u.Z)((0,o.Z)(d,5),6).getTime();var h=new(function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,[{key:"getProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(function(){var n,t,r,a,i;return(0,l.__generator)(this,function(l){switch(l.label){case 0:return n=e.filters,t=e.page,r=e.rowsPerPage,[4,s.Z.get("/Product")];case 1:return i=(a=l.sent().data).length,void 0!==n&&(i=(a=a.filter(function(e){return!!((void 0===n.name||""===n.name||e.name.toLowerCase().includes(n.name.toLowerCase()))&&(void 0===n.category||!(n.category.length>0)||n.category.includes(e.category))&&(void 0===n.status||!(n.status.length>0)||n.status.includes(e.status)))&&(void 0===n.inStock||e.inStock===n.inStock)})).length),void 0!==t&&void 0!==r&&(a=(0,c.i)(a,t,r)),[2,Promise.resolve({data:a,count:i})]}})})()}}]),e}())},15097:function(e,n,t){"use strict";t.d(n,{$:function(){return i}});var r=t(85893),a=t(36822),i=function(){return(0,r.jsx)(a.Z,{sx:{backgroundColor:"neutral.500",borderRadius:"50%",height:4,width:4}})}},12507:function(e,n,t){"use strict";t.d(n,{N:function(){return j}});var r=t(26042),a=t(69396),i=t(99534),l=t(828),s=t(36305),c=t(85893),u=t(67294),o=t(45697),d=t.n(o),h=t(94207),f=t(11057),p=t(53219),x=t(25464),g=t(63931),Z=t(50480),v=t(69368),j=function(e){var n=e.label,t=e.onChange,o=e.options,d=e.value,j=void 0===d?[]:d,m=(0,i.Z)(e,["label","onChange","options","value"]),b=(0,u.useRef)(null),k=(0,l.Z)((0,u.useState)(!1),2),y=k[0],w=k[1],C=(0,u.useCallback)(function(){w(!0)},[]),P=(0,u.useCallback)(function(){w(!1)},[]),S=(0,u.useCallback)(function(e){var n=(0,s.Z)(j);e.target.checked?n.push(e.target.value):n=n.filter(function(n){return n!==e.target.value}),null==t||t(n)},[t,j]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(f.Z,(0,a.Z)((0,r.Z)({color:"inherit",endIcon:(0,c.jsx)(p.Z,{children:(0,c.jsx)(h.Z,{})}),onClick:C,ref:b},m),{children:n})),(0,c.jsx)(x.Z,{anchorEl:b.current,onClose:P,open:y,PaperProps:{style:{width:250}},children:o.map(function(e){return(0,c.jsx)(g.Z,{children:(0,c.jsx)(Z.Z,{control:(0,c.jsx)(v.Z,{checked:j.includes(e.value),onChange:S,value:e.value}),label:e.label,sx:{flexGrow:1,mr:0}})},e.label)})})]})};j.propTypes={label:d().string.isRequired,onChange:d().func,options:d().array.isRequired,value:d().array.isRequired}},28919:function(e,n,t){"use strict";t.d(n,{I:function(){return o}});var r=t(26042),a=t(69396),i=t(99534),l=t(85893),s=t(45697),c=t.n(s),u=(0,t(90948).ZP)("span")(function(e){var n=e.theme,t=e.ownerState;return{alignItems:"center",backgroundColor:n.palette[t.color].alpha12,borderRadius:12,color:"dark"===n.palette.mode?n.palette[t.color].main:n.palette[t.color].dark,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:n.spacing(1),paddingRight:n.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),o=function(e){var n=e.color,t=e.children,s=(0,i.Z)(e,["color","children"]);return(0,l.jsx)(u,(0,a.Z)((0,r.Z)({ownerState:{color:void 0===n?"primary":n}},s),{children:t}))};o.propTypes={children:c().node,color:c().oneOf(["primary","secondary","error","info","warning","success"])}},38242:function(e,n,t){"use strict";t.d(n,{s:function(){return a}});var r=t(67294),a=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,r.useCallback)(function(){return e.current},[])}},70563:function(e,n,t){"use strict";t.d(n,{a:function(){return i}});var r=t(67294),a=t(56204),i=function(){(0,r.useEffect)(function(){a.w.push({event:"page_view"})},[])}},21486:function(e,n,t){"use strict";t.d(n,{r:function(){return a}});var r=t(67294),a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(0,r.useRef)(!0);(0,r.useEffect)(function(){if(!t.current)return e();t.current=!1},n)}},8720:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eZ}});var r=t(47568),a=t(26042),i=t(69396),l=t(828),s=t(70655),c=t(85893),u=t(67294),o=t(9008),d=t.n(o),h=t(41664),f=t.n(h),p=t(10216),x=t(36822),g=t(21214),Z=t(26447),v=t(15861),j=t(12963),m=t(23795),b=t(11057),k=t(53219),y=t(66242),w=t(24053),C=t(15097),P=t(38242),S=t(70563),R=t(9639),T=t(98637),I=t(99534),_=t(45697),W=t.n(_),E=t(95226),N=t(79332),q=t(67720),O=t(87918),V=t(12507),A=t(21486),D=[{label:"Healthcare",value:"healthcare"},{label:"Makeup",value:"makeup"},{label:"Dress",value:"dress"},{label:"Skincare",value:"skincare"},{label:"Jewelry",value:"jewelry"},{label:"Blouse",value:"blouse"}],F=[{label:"Published",value:"published"},{label:"Draft",value:"draft"}],L=[{label:"All",value:"all"},{label:"Available",value:"available"},{label:"Out of Stock",value:"outOfStock"}],H=function(e){var n=e.onFiltersChange,t=(0,I.Z)(e,["onFiltersChange"]),r=(0,u.useRef)(null),s=(0,l.Z)((0,u.useState)(""),2),o=s[0],d=s[1],h=(0,l.Z)((0,u.useState)([]),2),f=h[0],p=h[1],g=(0,u.useCallback)(function(){var e={name:void 0,category:[],status:[],inStock:void 0};f.forEach(function(n){switch(n.field){case"name":e.name=n.value;break;case"category":e.category.push(n.value);break;case"status":e.status.push(n.value);break;case"inStock":e.inStock="available"===n.value}}),null==n||n(e)},[f,n]);(0,A.r)(function(){g()},[f,g]);var j=(0,u.useCallback)(function(e){p(function(n){return n.filter(function(n){return!(e.field===n.field&&e.value===n.value)})})},[]),m=(0,u.useCallback)(function(e){var n;e.preventDefault(),d((null===(n=r.current)||void 0===n?void 0:n.value)||"")},[]),b=(0,u.useCallback)(function(e){p(function(n){var t=[],r=n.filter(function(n){if("category"!==n.field)return!0;var r=e.includes(n.value);return r&&t.push(n.value),r});return e.length===t.length||e.forEach(function(e){if(!t.includes(e)){var n=D.find(function(n){return n.value===e});r.push({label:"Category",field:"category",value:e,displayValue:n.label})}}),r})},[]),y=(0,u.useCallback)(function(e){p(function(n){var t=[],r=n.filter(function(n){if("status"!==n.field)return!0;var r=e.includes(n.value);return r&&t.push(n.value),r});return e.length===t.length||e.forEach(function(e){if(!t.includes(e)){var n=F.find(function(n){return n.value===e});r.push({label:"Status",field:"status",value:e,displayValue:n.label})}}),r})},[]),w=(0,u.useCallback)(function(e){p(function(n){var t=n.filter(function(e){return"inStock"!==e.field});switch(e[e.length-1]){case"available":t.push({label:"Stock",field:"inStock",value:"available",displayValue:"Available"});break;case"outOfStock":t.push({label:"Stock",field:"inStock",value:"outOfStock",displayValue:"Out of Stock"})}return t})},[]),C=(0,u.useMemo)(function(){return f.filter(function(e){return"category"===e.field}).map(function(e){return e.value})},[f]),P=(0,u.useMemo)(function(){return f.filter(function(e){return"status"===e.field}).map(function(e){return e.value})},[f]),S=(0,u.useMemo)(function(){var e=f.filter(function(e){return"inStock"===e.field}).map(function(e){return e.value});return 0===e.length&&e.unshift("all"),e},[f]),R=f.length>0;return(0,c.jsxs)("div",(0,i.Z)((0,a.Z)({},t),{children:[(0,c.jsxs)(Z.Z,{alignItems:"center",component:"form",direction:"row",onSubmit:m,spacing:2,sx:{p:2},children:[(0,c.jsx)(k.Z,{children:(0,c.jsx)(E.Z,{})}),(0,c.jsx)(N.Z,{disableUnderline:!0,fullWidth:!0,inputProps:{ref:r},placeholder:"Search by product name",sx:{flexGrow:1},value:o})]}),(0,c.jsx)(q.Z,{}),R?(0,c.jsx)(Z.Z,{alignItems:"center",direction:"row",flexWrap:"wrap",gap:1,sx:{p:2},children:f.map(function(e,n){return(0,c.jsx)(O.Z,{label:(0,c.jsx)(x.Z,{sx:{alignItems:"center",display:"flex","& span":{fontWeight:600}},children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:e.label}),":"," ",e.displayValue||e.value]})}),onDelete:function(){return j(e)},variant:"outlined"},n)})}):(0,c.jsx)(x.Z,{sx:{p:2.5},children:(0,c.jsx)(v.Z,{color:"text.secondary",variant:"subtitle2",children:"No filters applied"})}),(0,c.jsx)(q.Z,{}),(0,c.jsxs)(Z.Z,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:1,sx:{p:1},children:[(0,c.jsx)(V.N,{label:"Category",onChange:b,options:D,value:C}),(0,c.jsx)(V.N,{label:"Status",onChange:y,options:F,value:P}),(0,c.jsx)(V.N,{label:"Stock",onChange:w,options:L,value:S})]})]}))};H.propTypes={onFiltersChange:W().func};var M=t(92077),B=t.n(M),G=t(86501),K=t(94207),U=t(27264),$=t(83075),z=t(63692),J=t(7906),X=t(53184),Q=t(53816),Y=t(98102),ee=t(295),en=t(93946),et=t(88441),er=t(44267),ea=t(86886),ei=t(93155),el=t(63931),es=t(87109),ec=t(45843),eu=t(8896),eo=t(44254),ed=t(28919),eh=[{label:"Healthcare",value:"healthcare"},{label:"Makeup",value:"makeup"},{label:"Dress",value:"dress"},{label:"Skincare",value:"skincare"},{label:"Jewelry",value:"jewelry"},{label:"Blouse",value:"blouse"}],ef=function(e){var n=e.onPageChange,t=e.onRowsPerPageChange,r=e.page,s=e.products,o=e.productsCount,d=e.rowsPerPage,h=(0,I.Z)(e,["onPageChange","onRowsPerPageChange","page","products","productsCount","rowsPerPage"]),f=(0,l.Z)((0,u.useState)(null),2),p=f[0],g=f[1],j=(0,u.useCallback)(function(e){g(function(n){return n===e?null:e})},[]),m=(0,u.useCallback)(function(){g(null)},[]),y=(0,u.useCallback)(function(){g(null),G.Am.success("Product updated")},[]),w=(0,u.useCallback)(function(){G.Am.error("Product cannot be deleted")},[]);return(0,c.jsxs)("div",(0,i.Z)((0,a.Z)({},h),{children:[(0,c.jsx)(eo.L,{children:(0,c.jsxs)(J.Z,{sx:{minWidth:1200},children:[(0,c.jsx)(X.Z,{children:(0,c.jsxs)(Q.Z,{children:[(0,c.jsx)(Y.Z,{}),(0,c.jsx)(Y.Z,{width:"25%",children:"Name"}),(0,c.jsx)(Y.Z,{width:"25%",children:"Stock"}),(0,c.jsx)(Y.Z,{children:"Price"}),(0,c.jsx)(Y.Z,{children:"sku"}),(0,c.jsx)(Y.Z,{children:"Status"}),(0,c.jsx)(Y.Z,{align:"right",children:"Actions"})]})}),(0,c.jsx)(ee.Z,{children:s.map(function(e){var n=e.id===p,t=B()(e.price).format("".concat(e.currency,"0,0.00")),r=e.quantity>=10?"success":"error",i="published"===e.status?"success":"info",l=e.variants>1;return(0,c.jsxs)(u.Fragment,{children:[(0,c.jsxs)(Q.Z,{hover:!0,children:[(0,c.jsx)(Y.Z,{padding:"checkbox",sx:(0,a.Z)({},n&&{position:"relative","&:after":{position:"absolute",content:'" "',top:0,left:0,backgroundColor:"primary.main",width:3,height:"calc(100% + 1px)"}}),width:"25%",children:(0,c.jsx)(en.Z,{onClick:function(){return j(e.id)},children:(0,c.jsx)(k.Z,{children:n?(0,c.jsx)(K.Z,{}):(0,c.jsx)(U.Z,{})})})}),(0,c.jsx)(Y.Z,{width:"25%",children:(0,c.jsxs)(x.Z,{sx:{alignItems:"center",display:"flex"},children:[e.image?(0,c.jsx)(x.Z,{sx:{alignItems:"center",backgroundColor:"neutral.50",backgroundImage:"url(".concat(e.image,")"),backgroundPosition:"center",backgroundSize:"cover",borderRadius:1,display:"flex",height:80,justifyContent:"center",overflow:"hidden",width:80}}):(0,c.jsx)(x.Z,{sx:{alignItems:"center",backgroundColor:"neutral.50",borderRadius:1,display:"flex",height:80,justifyContent:"center",width:80},children:(0,c.jsx)(k.Z,{children:(0,c.jsx)(z.Z,{})})}),(0,c.jsxs)(x.Z,{sx:{cursor:"pointer",ml:2},children:[(0,c.jsx)(v.Z,{variant:"subtitle2",children:e.name}),(0,c.jsxs)(v.Z,{color:"text.secondary",variant:"body2",children:["in ",e.category]})]})]})}),(0,c.jsxs)(Y.Z,{width:"25%",children:[(0,c.jsx)(et.Z,{value:e.quantity,variant:"determinate",color:r,sx:{height:8,width:36}}),(0,c.jsxs)(v.Z,{color:"text.secondary",variant:"body2",children:[e.quantity," ","in stock",l&&" in ".concat(e.variants," variants")]})]}),(0,c.jsx)(Y.Z,{children:t}),(0,c.jsx)(Y.Z,{children:e.sku}),(0,c.jsx)(Y.Z,{children:(0,c.jsx)(ed.I,{color:i,children:e.status})}),(0,c.jsx)(Y.Z,{align:"right",children:(0,c.jsx)(en.Z,{children:(0,c.jsx)(k.Z,{children:(0,c.jsx)($.Z,{})})})})]},e.id),n&&(0,c.jsx)(Q.Z,{children:(0,c.jsxs)(Y.Z,{colSpan:7,sx:{p:0,position:"relative","&:after":{position:"absolute",content:'" "',top:0,left:0,backgroundColor:"primary.main",width:3,height:"calc(100% + 1px)"}},children:[(0,c.jsx)(er.Z,{children:(0,c.jsxs)(ea.ZP,{container:!0,spacing:3,children:[(0,c.jsxs)(ea.ZP,{item:!0,md:6,xs:12,children:[(0,c.jsx)(v.Z,{variant:"h6",children:"Basic details"}),(0,c.jsx)(q.Z,{sx:{my:2}}),(0,c.jsxs)(ea.ZP,{container:!0,spacing:3,children:[(0,c.jsx)(ea.ZP,{item:!0,md:6,xs:12,children:(0,c.jsx)(ei.Z,{defaultValue:e.name,fullWidth:!0,label:"Product name",name:"name"})}),(0,c.jsx)(ea.ZP,{item:!0,md:6,xs:12,children:(0,c.jsx)(ei.Z,{defaultValue:e.sku,disabled:!0,fullWidth:!0,label:"SKU",name:"sku"})}),(0,c.jsx)(ea.ZP,{item:!0,md:6,xs:12,children:(0,c.jsx)(ei.Z,{defaultValue:e.category,fullWidth:!0,label:"Category",select:!0,children:eh.map(function(e){return(0,c.jsx)(el.Z,{value:e.value,children:e.label},e.value)})})}),(0,c.jsx)(ea.ZP,{item:!0,md:6,xs:12,children:(0,c.jsx)(ei.Z,{defaultValue:e.id,disabled:!0,fullWidth:!0,label:"Barcode",name:"barcode"})})]})]}),(0,c.jsxs)(ea.ZP,{item:!0,md:6,xs:12,children:[(0,c.jsx)(v.Z,{variant:"h6",children:"Pricing and stocks"}),(0,c.jsx)(q.Z,{sx:{my:2}}),(0,c.jsxs)(ea.ZP,{container:!0,spacing:3,children:[(0,c.jsx)(ea.ZP,{item:!0,md:6,xs:12,children:(0,c.jsx)(ei.Z,{defaultValue:e.price,fullWidth:!0,label:"Old price",name:"old-price",InputProps:{startAdornment:(0,c.jsx)(es.Z,{position:"start",children:e.currency})},type:"number"})}),(0,c.jsx)(ea.ZP,{item:!0,md:6,xs:12,children:(0,c.jsx)(ei.Z,{defaultValue:e.price,fullWidth:!0,label:"New price",name:"new-price",InputProps:{startAdornment:(0,c.jsx)(es.Z,{position:"start",children:"$"})},type:"number"})}),(0,c.jsxs)(ea.ZP,{item:!0,md:6,xs:12,sx:{alignItems:"center",display:"flex"},children:[(0,c.jsx)(ec.Z,{}),(0,c.jsx)(v.Z,{variant:"subtitle2",children:"Keep selling when stock is empty"})]})]})]})]})}),(0,c.jsx)(q.Z,{}),(0,c.jsxs)(Z.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",sx:{p:2},children:[(0,c.jsxs)(Z.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,c.jsx)(b.Z,{onClick:y,type:"submit",variant:"contained",children:"Update"}),(0,c.jsx)(b.Z,{color:"inherit",onClick:m,children:"Cancel"})]}),(0,c.jsx)("div",{children:(0,c.jsx)(b.Z,{onClick:w,color:"error",children:"Delete product"})})]})]})})]},e.id)})})]})}),(0,c.jsx)(eu.Z,{component:"div",count:o,onPageChange:n,onRowsPerPageChange:t,page:r,rowsPerPage:d,rowsPerPageOptions:[5,10,25]})]}))};ef.propTypes={products:W().array.isRequired,productsCount:W().number.isRequired,onPageChange:W().func.isRequired,onRowsPerPageChange:W().func,page:W().number.isRequired,rowsPerPage:W().number.isRequired};var ep=function(){var e=(0,l.Z)((0,u.useState)({filters:{name:void 0,category:[],status:[],inStock:void 0},page:0,rowsPerPage:5}),2);return{search:e[0],updateSearch:e[1]}},ex=function(e){var n=(0,P.s)(),t=(0,l.Z)((0,u.useState)({products:[],productsCount:0}),2),a=t[0],i=t[1],c=(0,u.useCallback)((0,r.Z)(function(){var t;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,w.f.getProducts(e)];case 1:return t=r.sent(),n()&&i({products:t.data,productsCount:t.count}),[3,3];case 2:return console.error(r.sent()),[3,3];case 3:return[2]}})}),[e,n]);return(0,u.useEffect)(function(){c()},[e]),a},eg=function(){var e=ep(),n=e.search,t=e.updateSearch,r=ex(n),l=r.products,s=r.productsCount;(0,S.a)();var o=(0,u.useCallback)(function(e){t(function(n){return(0,i.Z)((0,a.Z)({},n),{filters:e})})},[t]),h=(0,u.useCallback)(function(e,n){t(function(e){return(0,i.Z)((0,a.Z)({},e),{page:n})})},[t]),w=(0,u.useCallback)(function(e){t(function(n){return(0,i.Z)((0,a.Z)({},n),{rowsPerPage:parseInt(e.target.value,10)})})},[t]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d(),{children:(0,c.jsx)("title",{children:"Dashboard: Product List | Devias Kit PRO"})}),(0,c.jsx)(x.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,c.jsx)(g.Z,{maxWidth:"xl",children:(0,c.jsxs)(Z.Z,{spacing:4,children:[(0,c.jsxs)(Z.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,c.jsxs)(Z.Z,{spacing:1,children:[(0,c.jsx)(v.Z,{variant:"h4",children:"Products"}),(0,c.jsxs)(j.Z,{separator:(0,c.jsx)(C.$,{}),children:[(0,c.jsx)(m.Z,{color:"text.primary",component:f(),href:T.H.dashboard.index,variant:"subtitle2",children:"Dashboard"}),(0,c.jsx)(m.Z,{color:"text.primary",component:f(),href:T.H.dashboard.products.index,variant:"subtitle2",children:"Products"}),(0,c.jsx)(v.Z,{color:"text.secondary",variant:"subtitle2",children:"List"})]})]}),(0,c.jsx)(Z.Z,{alignItems:"center",direction:"row",spacing:3,children:(0,c.jsx)(b.Z,{component:f(),href:T.H.dashboard.products.create,startIcon:(0,c.jsx)(k.Z,{children:(0,c.jsx)(p.Z,{})}),variant:"contained",children:"Add"})})]}),(0,c.jsxs)(y.Z,{children:[(0,c.jsx)(H,{onFiltersChange:o}),(0,c.jsx)(ef,{onPageChange:h,onRowsPerPageChange:w,page:n.page,products:l,productsCount:s,rowsPerPage:n.rowsPerPage})]})]})})})]})};eg.getLayout=function(e){return(0,c.jsx)(R.A,{children:e})};var eZ=eg},48355:function(e,n,t){"use strict";function r(e,n,t){return e.slice(n*t,n*t+t)}t.d(n,{i:function(){return r}})}},function(e){e.O(0,[1664,5978,1238,8360,1273,1220,1813,6383,5104,2077,9365,9661,8896,6886,8764,6154,2802,9639,9774,2888,179],function(){return e(e.s=57598)}),_N_E=e.O()}]);