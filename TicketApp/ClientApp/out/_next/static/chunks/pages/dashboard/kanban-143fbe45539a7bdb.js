(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4766],{50647:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/kanban",function(){return r(26959)}])},70563:function(e,n,r){"use strict";r.d(n,{a:function(){return s}});var t=r(67294),a=r(56204),s=function(){(0,t.useEffect)(function(){a.w.push({event:"page_view"})},[])}},26959:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return eK}});var t=r(47568),a=r(828),s=r(70655),c=r(85893),i=r(67294),o=r(9008),u=r.n(o),l=r(15948),d=r(86501),f=r(36822),h=r(15861),m=r(26447),p=r(70563),k=r(9639),b=r(26042),x=r(69396),v=r(99534),g=r(45697),Z=r.n(g),C=r(32912),I=r(91296),j=r.n(I),w=r(97512),y=r(732),_=r(28923),S=r(10216),T=r(45331),P=r(98396),A=r(93946),R=r(53219),E=r(79332),D=r(37023),z=r(40044),O=r(67720),W=r(11887),M=r(87952),K=r(51107),U=r(87918),q=r(11057),B=r(77533),F=r(61),G=r(83720),N=r(51438),H=r(52951),L=r(60116),V=r(5704),X=r(7069),Y=r(77349),J=new Date,Q={board:{members:[{id:"5e86809283e28b96d2d38537",avatar:"/assets/avatars/avatar-anika-visser.png",name:"Anika Visser"},{id:"5e887a62195cc5aef7e8ca5d",avatar:"/assets/avatars/avatar-marcus-finn.png",name:"Marcus Finn"},{id:"5e887ac47eed253091be10cb",avatar:"/assets/avatars/avatar-carson-darrin.png",name:"Carson Darrin"},{id:"5e887b209c28ac3dd97f6db5",avatar:"/assets/avatars/avatar-fran-perez.png",name:"Fran Perez"},{id:"5e887b7602bdbc4dbb234b27",avatar:"/assets/avatars/avatar-jie-yan-song.png",name:"Jie Yan Song"}],columns:[{id:"5e849c39325dc5ef58e5a5db",taskIds:["5e849c8708bd72683b454747","5e849c90fabe1f1f4b3557f6","5e849c977ef6265938bfd90b","5e849c9e34ee93bc7255c599"],name:"Todo"},{id:"5e849c2b38d238c33e516755",taskIds:["5e849ca7d063dc3830d4b49c","5e849cb5d0c6e8894451fdfa"],name:"Progress"},{id:"5e849c2b38d238c33e5146755",taskIds:[],name:"Done"}],tasks:[{id:"5e849c8708bd72683b454747",assigneesIds:["5e887a62195cc5aef7e8ca5d"],attachments:[{id:"7191325744eca06bc6ad2219",type:"image",url:"/assets/covers/abstract-1-4x3-small.png"}],authorId:"5e86809283e28b96d2d38537",checklists:[{id:"5e84a8175c48d3f5b1d01972",name:"Update overview page",checkItems:[{id:"5e85af37da584c5e4bd8a06c",name:"Prepare sketch",state:"complete"}]}],comments:[{id:"15e849c5a35d4dff4f88ebff6",authorId:"5e887ac47eed253091be10cb",createdAt:(0,X.Z)(J,5).getTime(),message:"This is a comment"}],columnId:"5e849c39325dc5ef58e5a5db",description:"Duis condimentum lacus finibus felis pellentesque, ac auctor nibh fermentum. Duis sed dui ante. Phasellus id eros tincidunt, dictum lorem vitae, pellentesque sem. Aenean eu enim sit amet mauris rhoncus mollis. Sed enim turpis, porta a felis et, luctus faucibus nisi. Phasellus et metus fermentum, ultrices arcu aliquam, facilisis justo. Cras nunc nunc, elementum sed euismod ut, maximus eget nibh. Phasellus condimentum lorem neque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Fusce sagittis pharetra eleifend. Suspendisse potenti.",due:(0,Y.Z)(J,7).getTime(),isSubscribed:!1,labels:["Business","Design"],name:"Call with sales of HubSpot"},{id:"5e849c90fabe1f1f4b3557f6",assigneesIds:["5e887b209c28ac3dd97f6db5","5e887a62195cc5aef7e8ca5d"],attachments:[],authorId:"5e887b209c28ac3dd97f6db5",checklists:[],columnId:"5e849c39325dc5ef58e5a5db",comments:[],description:"We are looking for vue experience and of course node js strong knowledge",due:(0,Y.Z)(J,6).getTime(),isSubscribed:!0,labels:[],name:"Interview for the Asis. Sales Manager"},{id:"5e849c977ef6265938bfd90b",assigneesIds:[],attachments:[],authorId:"5e887b7602bdbc4dbb234b27",checklists:[],columnId:"5e849c39325dc5ef58e5a5db",comments:[],description:"We need to make it aggressive with pricing because it’s in their interest to acquire us",due:null,isSubscribed:!1,labels:[],name:"Change the height of the top bar because it looks too chunky"},{id:"5e849c9e34ee93bc7255c599",assigneesIds:["5e887ac47eed253091be10cb","5e86809283e28b96d2d38537"],attachments:[],authorId:"5e887a62195cc5aef7e8ca5d",checklists:[],columnId:"5e849c39325dc5ef58e5a5db",comments:[],description:"We need to make it aggressive with pricing because it’s in their interest to acquire us",due:null,isSubscribed:!1,labels:[],name:"Integrate Stripe API"},{id:"5e849ca7d063dc3830d4b49c",assigneesIds:["5e887a62195cc5aef7e8ca5d"],attachments:[],authorId:"5e887ac47eed253091be10cb",checklists:[],columnId:"5e849c2b38d238c33e516755",comments:[],description:"We need to make it aggressive with pricing because it’s in their interest to acquire us",due:null,isSubscribed:!0,labels:[],name:"Update the customer API for payments"},{id:"5e849cb5d0c6e8894451fdfa",assigneesIds:[],attachments:[],authorId:"5e887ac47eed253091be10cb",checklists:[],columnId:"5e849c2b38d238c33e516755",comments:[],description:"We need to make it aggressive with pricing because it’s in their interest to acquire us",due:null,isSubscribed:!0,labels:[],name:"Redesign the landing page"}]}},$={id:"5e86809283e28b96d2d38537",avatar:"/assets/avatars/avatar-anika-visser.png",name:"Anika Visser"},ee=new(function(){function e(){(0,N.Z)(this,e)}return(0,H.Z)(e,[{key:"getBoard",value:function(e){return Promise.resolve((0,V.p)(Q.board))}},{key:"createColumn",value:function(e){var n=e.name;return new Promise(function(e,r){try{var t=(0,V.p)(Q.board),a={id:(0,L.h)(),name:n,taskIds:[]};t.columns.push(a),Q.board=t,e((0,V.p)(a))}catch(s){console.error("[Kanban Api]: ",s),r(Error("Internal server error"))}})}},{key:"updateColumn",value:function(e){var n=e.columnId,r=e.update;return new Promise(function(e,t){try{var a=(0,V.p)(Q.board),s=a.columns.find(function(e){return e.id===n});if(!s){t(Error("Column not found"));return}Object.assign(s,r),Q.board=a,e((0,V.p)(s))}catch(c){console.error("[Kanban Api]: ",c),t(Error("Internal server error"))}})}},{key:"clearColumn",value:function(e){var n=e.columnId;return new Promise(function(e,r){try{var t=(0,V.p)(Q.board),a=t.columns.find(function(e){return e.id===n});if(!a){r(Error("Column not found"));return}t.tasks=t.tasks.filter(function(e){return e.columnId!==n}),a.taskIds=[],Q.board=t,e(!0)}catch(s){console.error("[Kanban Api]: ",s),r(Error("Internal server error"))}})}},{key:"deleteColumn",value:function(e){var n=e.columnId;return new Promise(function(e,r){try{var t=(0,V.p)(Q.board);if(!t.columns.find(function(e){return e.id===n})){r(Error("Column not found"));return}t.tasks=t.tasks.filter(function(e){return e.columnId!==n}),t.columns=t.columns.filter(function(e){return e.id!==n}),Q.board=t,e(!0)}catch(a){console.error("[Kanban Api]: ",a),r(Error("Internal server error"))}})}},{key:"createTask",value:function(e){var n=e.columnId,r=e.name;return new Promise(function(e,t){try{var a=(0,V.p)(Q.board),s=a.columns.find(function(e){return e.id===n});if(!s){t(Error("Column not found"));return}var c={id:(0,L.h)(),assigneesIds:[],attachments:[],authorId:$.id,checklists:[],columnId:n,comments:[],description:null,due:null,isSubscribed:!1,labels:[],name:r};a.tasks.push(c),s.taskIds.push(c.id),Q.board=a,e((0,V.p)(c))}catch(i){console.error("[Kanban Api]: ",i),t(Error("Internal server error"))}})}},{key:"updateTask",value:function(e){var n=e.taskId,r=e.update;return new Promise(function(e,t){try{var a=(0,V.p)(Q.board),s=a.tasks.find(function(e){return e.id===n});if(!s){t(Error("Task not found"));return}Object.assign(s,r),Q.board=a,e((0,V.p)(s))}catch(c){console.error("[Kanban Api]: ",c),t(Error("Internal server error"))}})}},{key:"moveTask",value:function(e){var n=e.taskId,r=e.position,t=e.columnId;return new Promise(function(e,a){try{var s=(0,V.p)(Q.board),c=s.tasks.find(function(e){return e.id===n});if(!c){a(Error("Task not found"));return}var i=s.columns.find(function(e){return e.id===c.columnId});if(!i){a(Error("Column not found"));return}if(i.taskIds=i.taskIds.filter(function(e){return n!==e}),t){var o=s.columns.find(function(e){return e.id===t});if(!o){a(Error("Column not found"));return}o.taskIds.splice(r,0,c.id),c.columnId=o.id}else i.taskIds.splice(r,0,c.id);Q.board=s,e(!0)}catch(u){console.error("[Kanban Api]: ",u),a(Error("Internal server error"))}})}},{key:"deleteTask",value:function(e){var n=e.taskId;return new Promise(function(e,r){try{var t=(0,V.p)(Q.board),a=t.tasks.find(function(e){return e.id===n});if(!a){r(Error("Task not found"));return}t.tasks=t.tasks.filter(function(e){return e.id!==n});var s=t.columns.find(function(e){return e.id===a.columnId});s&&(s.taskIds=s.taskIds.filter(function(e){return e!=e})),Q.board=t,e(!0)}catch(c){console.error("[Kanban Api]: ",c),r(Error("Internal server error"))}})}},{key:"addComment",value:function(e){var n=e.taskId,r=e.message;return new Promise(function(e,t){try{var a=(0,V.p)(Q.board),s=a.tasks.find(function(e){return e.id===n});if(!s){t(Error("Task not found"));return}var c={id:(0,L.h)(),authorId:$.id,createdAt:new Date().getTime(),message:r};s.comments.push(c),Q.board=a,e((0,V.p)(c))}catch(i){console.error("[Kanban Api]: ",i),t(Error("Internal server error"))}})}},{key:"addChecklist",value:function(e){var n=e.taskId,r=e.name;return new Promise(function(e,t){try{var a=(0,V.p)(Q.board),s=a.tasks.find(function(e){return e.id===n});if(!s){t(Error("Task not found"));return}var c={id:(0,L.h)(),name:r,checkItems:[]};s.checklists.push(c),Q.board=a,e((0,V.p)(c))}catch(i){console.error("[Kanban Api]: ",i),t(Error("Internal server error"))}})}},{key:"updateChecklist",value:function(e){var n=e.taskId,r=e.checklistId,t=e.update;return new Promise(function(e,a){try{var s=(0,V.p)(Q.board),c=s.tasks.find(function(e){return e.id===n});if(!c){a(Error("Task not found"));return}var i=c.checklists.find(function(e){return e.id===r});if(!i){a(Error("Checklist not found"));return}Object.assign(i,t),Q.board=s,e((0,V.p)(i))}catch(o){console.error("[Kanban Api]: ",o),a(Error("Internal server error"))}})}},{key:"deleteChecklist",value:function(e){var n=e.taskId,r=e.checklistId;return new Promise(function(e,t){try{var a=(0,V.p)(Q.board),s=a.tasks.find(function(e){return e.id===n});if(!s){t(Error("Task not found"));return}s.checklists=s.checklists.filter(function(e){return e.id!==r}),Q.board=a,e(!0)}catch(c){console.error("[Kanban Api]: ",c),t(Error("Internal server error"))}})}},{key:"addCheckItem",value:function(e){var n=e.taskId,r=e.checklistId,t=e.name;return new Promise(function(e,a){try{var s=(0,V.p)(Q.board),c=s.tasks.find(function(e){return e.id===n});if(!c){a(Error("Task not found"));return}var i=c.checklists.find(function(e){return e.id===r});if(!i){a(Error("Checklist not found"));return}var o={id:(0,L.h)(),name:t,state:"incomplete"};i.checkItems.push(o),Q.board=s,e((0,V.p)(o))}catch(u){console.error("[Kanban Api]: ",u),a(Error("Internal server error"))}})}},{key:"updateCheckItem",value:function(e){var n=e.taskId,r=e.checklistId,t=e.checkItemId,a=e.update;return new Promise(function(e,s){try{var c=(0,V.p)(Q.board),i=c.tasks.find(function(e){return e.id===n});if(!i){s(Error("Task not found"));return}var o=i.checklists.find(function(e){return e.id===r});if(!o){s(Error("Checklist not found"));return}var u=o.checkItems.find(function(e){return e.id===t});if(!u){s(Error("Check item not found"));return}Object.assign(u,a),Q.board=c,e((0,V.p)(u))}catch(l){console.error("[Kanban Api]: ",l),s(Error("Internal server error"))}})}},{key:"deleteCheckItem",value:function(e){var n=e.taskId,r=e.checklistId,t=e.checkItemId;return new Promise(function(e,a){try{var s=(0,V.p)(Q.board),c=s.tasks.find(function(e){return e.id===n});if(!c){a(Error("Task not found"));return}var i=c.checklists.find(function(e){return e.id===r});if(!i){a(Error("Checklist not found"));return}i.checkItems=i.checkItems.filter(function(e){return e.id!==t}),Q.board=s,e(!0)}catch(o){console.error("[Kanban Api]: ",o),a(Error("Internal server error"))}})}}]),e}()),en=r(15231),er={addCheckItem:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.addCheckItem(e)];case 1:return r=t.sent(),n(en.t.actions.addCheckItem({taskId:e.taskId,checklistId:e.checklistId,checkItem:r})),[2]}})}),function(e){return n.apply(this,arguments)}},addChecklist:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.addChecklist(e)];case 1:return r=t.sent(),n(en.t.actions.addChecklist({taskId:e.taskId,checklist:r})),[2]}})}),function(e){return n.apply(this,arguments)}},addComment:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.addComment(e)];case 1:return r=t.sent(),n(en.t.actions.addComment({taskId:e.taskId,comment:r})),[2]}})}),function(e){return n.apply(this,arguments)}},clearColumn:function(e){var n;return n=(0,t.Z)(function(n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.clearColumn(e)];case 1:return r.sent(),n(en.t.actions.clearColumn(e.columnId)),[2]}})}),function(e){return n.apply(this,arguments)}},createColumn:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.createColumn(e)];case 1:return r=t.sent(),n(en.t.actions.createColumn(r)),[2]}})}),function(e){return n.apply(this,arguments)}},createTask:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.createTask(e)];case 1:return r=t.sent(),n(en.t.actions.createTask(r)),[2]}})}),function(e){return n.apply(this,arguments)}},deleteCheckItem:function(e){var n;return n=(0,t.Z)(function(n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.deleteCheckItem(e)];case 1:return r.sent(),n(en.t.actions.deleteCheckItem(e)),[2]}})}),function(e){return n.apply(this,arguments)}},deleteChecklist:function(e){var n;return n=(0,t.Z)(function(n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.deleteChecklist(e)];case 1:return r.sent(),n(en.t.actions.deleteChecklist(e)),[2]}})}),function(e){return n.apply(this,arguments)}},deleteColumn:function(e){var n;return n=(0,t.Z)(function(n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.deleteColumn(e)];case 1:return r.sent(),n(en.t.actions.deleteColumn(e.columnId)),[2]}})}),function(e){return n.apply(this,arguments)}},deleteTask:function(e){var n;return n=(0,t.Z)(function(n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.deleteTask(e)];case 1:return r.sent(),n(en.t.actions.deleteTask(e.taskId)),[2]}})}),function(e){return n.apply(this,arguments)}},getBoard:function(){var e;return e=(0,t.Z)(function(e){var n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.getBoard()];case 1:return n=r.sent(),e(en.t.actions.getBoard(n)),[2]}})}),function(n){return e.apply(this,arguments)}},moveTask:function(e){var n;return n=(0,t.Z)(function(n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,ee.moveTask(e)];case 1:return r.sent(),n(en.t.actions.moveTask(e)),[2]}})}),function(e){return n.apply(this,arguments)}},updateCheckItem:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.updateCheckItem(e)];case 1:return r=t.sent(),n(en.t.actions.updateCheckItem({taskId:e.taskId,checklistId:e.checklistId,checkItem:r})),[2]}})}),function(e){return n.apply(this,arguments)}},updateChecklist:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.updateChecklist(e)];case 1:return r=t.sent(),n(en.t.actions.updateChecklist({taskId:e.taskId,checklist:r})),[2]}})}),function(e){return n.apply(this,arguments)}},updateColumn:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.updateColumn(e)];case 1:return r=t.sent(),n(en.t.actions.updateColumn(r)),[2]}})}),function(e){return n.apply(this,arguments)}},updateTask:function(e){var n;return n=(0,t.Z)(function(n){var r;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,ee.updateTask(e)];case 1:return r=t.sent(),n(en.t.actions.updateTask(r)),[2]}})}),function(e){return n.apply(this,arguments)}}},et=r(14924),ea=r(72591),es=r(66242),ec=r(88441),ei=r(28962),eo=r(69368),eu=function(e){var n=e.checkItem,r=e.isRenaming,o=void 0!==r&&r,u=e.onCheck,l=e.onDelete,d=e.onRenameCancel,f=e.onRenameComplete,h=e.onRenameInit,p=e.onUncheck,k=(0,v.Z)(e,["checkItem","isRenaming","onCheck","onDelete","onRenameCancel","onRenameComplete","onRenameInit","onUncheck"]),g=(0,a.Z)((0,i.useState)(n.name),2),Z=g[0],C=g[1],I=(0,i.useCallback)(function(){C(n.name)},[n]);(0,i.useEffect)(function(){I()},[n]);var j=(0,i.useCallback)(function(e){e.target.checked?null==u||u():null==p||p()},[u,p]),w=(0,i.useCallback)(function(e){C(e.target.value)},[]),y=(0,i.useCallback)(function(){C(n.name),null==d||d()},[n,d]),_=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){return null==f||f(Z),[2]})}),[Z,f]),S="complete"===n.state;return(0,c.jsxs)(m.Z,(0,x.Z)((0,b.Z)({alignItems:"center",direction:"row",spacing:1,sx:{px:3,py:1}},k),{children:[(0,c.jsx)(eo.Z,{edge:"start",checked:S,onChange:j}),(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,sx:{flexGrow:1},children:[(0,c.jsx)(E.Z,{disableUnderline:!0,fullWidth:!0,onChange:w,onClick:h,sx:(0,x.Z)((0,b.Z)({},!o&&S&&{textDecoration:"line-through"}),{"& .MuiInputBase-input":{borderRadius:1.5,fontWeight:500,overflow:"hidden",px:2,py:1,textOverflow:"ellipsis",wordWrap:"break-word","&:hover, &:focus":{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:1}}}),value:Z}),o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(q.Z,{onClick:_,size:"small",variant:"contained",children:"Update"}),(0,c.jsx)(q.Z,{color:"inherit",onClick:y,size:"small",children:"Cancel"})]}):(0,c.jsx)(A.Z,{onClick:l,children:(0,c.jsx)(R.Z,{fontSize:"small",children:(0,c.jsx)(ea.Z,{})})})]})]}))};eu.propTypes={checkItem:Z().object.isRequired,isRenaming:Z().bool,onCheck:Z().func,onDelete:Z().func,onRenameCancel:Z().func,onRenameComplete:Z().func,onRenameInit:Z().func,onUncheck:Z().func};var el=r(57709),ed=function(e){var n=e.onAdd,r=(0,v.Z)(e,["onAdd"]),o=(0,a.Z)((0,i.useState)(!1),2),u=o[0],l=o[1],d=(0,a.Z)((0,i.useState)(""),2),f=d[0],h=d[1],p=(0,i.useCallback)(function(){l(!0)},[]),k=(0,i.useCallback)(function(){l(!1),h("")},[]),g=(0,i.useCallback)(function(e){h(e.target.value)},[]),Z=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){return f&&(null==n||n(f),l(!1),h("")),[2]})}),[f,n]);return(0,c.jsx)("div",(0,x.Z)((0,b.Z)({},r),{children:u?(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,c.jsx)(el.Z,{onChange:g,placeholder:"Add an item",value:f,sx:{flexGrow:1,"& .MuiInputBase-input":{px:2,py:1}}}),(0,c.jsx)(q.Z,{onClick:Z,size:"small",variant:"contained",children:"Add"}),(0,c.jsx)(q.Z,{color:"inherit",onClick:k,size:"small",children:"Cancel"})]}):(0,c.jsx)(q.Z,{color:"inherit",onClick:p,size:"small",startIcon:(0,c.jsx)(R.Z,{children:(0,c.jsx)(S.Z,{})}),children:"Add Item"})}))};ed.propTypes={onAdd:Z().func};var ef=function(e){var n=e.length,r=e.filter(function(e){return"complete"===e.state}).length;return Math.round(0===n?100:r/n*100)},eh=function(e){var n=e.checklist,r=e.onCheckItemAdd,o=e.onCheckItemDelete,u=e.onCheckItemCheck,l=e.onCheckItemUncheck,d=e.onCheckItemRename,p=e.onDelete,k=e.onRename,g=(0,v.Z)(e,["checklist","onCheckItemAdd","onCheckItemDelete","onCheckItemCheck","onCheckItemUncheck","onCheckItemRename","onDelete","onRename"]),Z=(0,a.Z)((0,i.useState)(n.name),2),C=Z[0],I=Z[1],j=(0,a.Z)((0,i.useState)(!1),2),w=j[0],y=j[1],_=(0,a.Z)((0,i.useState)(null),2),S=_[0],T=_[1],P=(0,i.useCallback)(function(){I(n.name)},[n]);(0,i.useEffect)(function(){P()},[n]);var D=(0,i.useCallback)(function(e){I(e.target.value)},[]),z=(0,i.useCallback)(function(){y(!0)},[]),W=(0,i.useCallback)(function(){y(!1),I(n.name)},[n]),M=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){return C&&C!==n.name?(y(!1),null==k||k(C),[2]):(y(!1),I(n.name),[2])})}),[n,C,k]),K=(0,i.useCallback)(function(e){T(e)},[]),U=(0,i.useCallback)(function(){T(null)},[]),B=(0,i.useCallback)(function(e,n){T(null),null==d||d(e,n)},[d]),F=ef(n.checkItems),G=n.checkItems.length>0;return(0,c.jsxs)(es.Z,(0,x.Z)((0,b.Z)({variant:"outlined"},g),{children:[(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,sx:{p:1},children:[(0,c.jsx)(E.Z,{disableUnderline:!0,fullWidth:!0,onChange:D,onClick:z,sx:{"& .MuiInputBase-input":{borderRadius:1.5,fontWeight:500,overflow:"hidden",px:2,py:1,textOverflow:"ellipsis",wordWrap:"break-word","&:hover, &:focus":{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:1}}},value:C}),w?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(q.Z,{onClick:M,size:"small",variant:"contained",children:"Save"}),(0,c.jsx)(q.Z,{color:"inherit",onClick:W,size:"small",children:"Cancel"})]}):(0,c.jsx)(A.Z,{onClick:p,children:(0,c.jsx)(R.Z,{fontSize:"small",children:(0,c.jsx)(ea.Z,{})})})]}),(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pb:3,pt:2,px:3},children:[(0,c.jsx)(ec.Z,{color:"primary",sx:(0,et.Z)({borderRadius:1,flexGrow:1,height:8},"& .".concat(ei.Z.bar),{borderRadius:"inherit"}),value:F,variant:"determinate"}),(0,c.jsxs)(h.Z,{color:"text.secondary",variant:"body2",children:[F,"%"]})]}),(0,c.jsx)(O.Z,{}),G&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.Z,{divider:(0,c.jsx)(O.Z,{}),spacing:1,children:n.checkItems.map(function(e){var n=S===e.id;return(0,c.jsx)(eu,{checkItem:e,onCheck:function(){return null==u?void 0:u(e.id)},onDelete:function(){return null==o?void 0:o(e.id)},onRenameCancel:U,onRenameComplete:function(n){return B(e.id,n)},onRenameInit:function(){return K(e.id)},onUncheck:function(){return null==l?void 0:l(e.id)},isRenaming:n},e.id)})}),(0,c.jsx)(O.Z,{})]}),(0,c.jsx)(f.Z,{sx:{p:1},children:(0,c.jsx)(ed,{onAdd:r})})]}))};eh.propTypes={checklist:Z().object.isRequired};var em=r(11791),ep=function(e){var n,r=e.comment,t=(0,v.Z)(e,["comment"]),a=(n=r.authorId,(0,G.v9)(function(e){return e.kanban.members.byId[n]||null})),s=(null==a?void 0:a.avatar)||void 0,i=(0,C.Z)(r.createdAt,"MMM dd, yyyy 'at' hh:mm a");return(0,c.jsxs)(m.Z,(0,x.Z)((0,b.Z)({alignItems:"flex-start",direction:"row",spacing:2},t),{children:[(0,c.jsx)(M.Z,{src:s}),(0,c.jsxs)(m.Z,{spacing:1,sx:{flexGrow:1},children:[(0,c.jsx)(h.Z,{variant:"subtitle2",children:null==a?void 0:a.name}),(0,c.jsx)(em.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.50"},p:2},variant:"outlined",children:(0,c.jsx)(h.Z,{variant:"body2",children:r.message})}),(0,c.jsx)(h.Z,{color:"text.secondary",component:"p",variant:"caption",children:i})]})]}))};ep.propTypes={comment:Z().objectOf(Z().any).isRequired};var ek=function(e){var n,r=e.avatar,o=e.onAdd,u=(0,v.Z)(e,["avatar","onAdd"]),l=(0,a.Z)((0,i.useState)(""),2),d=l[0],h=l[1],p=(0,i.useCallback)(function(e){h(e.target.value)},[]),k=(0,i.useCallback)((n=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){return e.preventDefault(),d&&(null==o||o(d),h("")),[2]})}),function(e){return n.apply(this,arguments)}),[d,o]);return(0,c.jsxs)(m.Z,(0,x.Z)((0,b.Z)({alignItems:"flex-start",direction:"row",spacing:2},u),{children:[(0,c.jsx)(M.Z,{src:r}),(0,c.jsxs)(f.Z,{component:"form",onSubmit:k,sx:{flexGrow:1},children:[(0,c.jsx)(el.Z,{fullWidth:!0,multiline:!0,onChange:p,placeholder:"Write a comment...",rows:3,size:"small",value:d}),(0,c.jsx)(f.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:(0,c.jsx)(q.Z,{size:"small",type:"submit",variant:"contained",children:"Comment"})})]})]}))};ek.propTypes={avatar:Z().string.isRequired,onAdd:Z().func};var eb=r(36305),ex=r(25464),ev=r(63931),eg=["Business","Planning","Frontend","Design"],eZ=function(e){var n=e.labels,r=void 0===n?[]:n,t=e.onChange,s=(0,i.useRef)(null),o=(0,a.Z)((0,i.useState)(!1),2),u=o[0],l=o[1],d=(0,i.useMemo)(function(){return eg.filter(function(e){return!r.includes(e)})},[r]),f=(0,i.useCallback)(function(){l(!0)},[]),h=(0,i.useCallback)(function(){l(!1)},[]),p=(0,i.useCallback)(function(e){var n=r.filter(function(n){return n!==e});null==t||t(n)},[r,t]),k=(0,i.useCallback)(function(e){var n;n=r.find(function(n){return n===e})?r.filter(function(n){return n!==e}):(0,eb.Z)(r).concat([e]),l(!1),null==t||t(n)},[r,t]),b=d.length>0;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",flexWrap:"wrap",gap:1,children:[r.map(function(e){return(0,c.jsx)(U.Z,{label:e,onDelete:function(){return p(e)},size:"small"},e)}),(0,c.jsx)(A.Z,{onClick:f,ref:s,disabled:!b,children:(0,c.jsx)(R.Z,{fontSize:"small",children:(0,c.jsx)(S.Z,{})})})]}),(0,c.jsx)(ex.Z,{anchorEl:s.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},onClose:h,open:u,transformOrigin:{horizontal:"right",vertical:"top"},children:d.map(function(e){return(0,c.jsx)(ev.Z,{onClick:function(){return k(e)},children:e},e)})})]})};eZ.propTypes={labels:Z().arrayOf(Z().string.isRequired),onChange:Z().func};var eC=r(94207),eI=r(56863),ej=r(14564),ew=function(e){var n=e.onChange,r=e.options,t=void 0===r?[]:r,s=e.value,o=(0,i.useRef)(null),u=(0,a.Z)((0,i.useState)(!1),2),l=u[0],d=u[1],f=(0,a.Z)((0,i.useState)(function(){return t.find(function(e){return e.value===s})}),2),h=f[0],m=f[1];(0,i.useEffect)(function(){m(t.find(function(e){return e.value===s}))},[t,s]);var p=(0,i.useCallback)(function(){h&&(null==n||n(h.value))},[h,n]),k=(0,i.useCallback)(function(e){m(t.find(function(n){return n.value===e})),d(!1)},[t]),b=(0,i.useCallback)(function(){d(function(e){return!e})},[]),x=(0,i.useCallback)(function(){d(!1)},[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eI.Z,{ref:o,variant:"contained",size:"small",children:[(0,c.jsxs)(q.Z,{onClick:p,children:["Submit as ",null==h?void 0:h.label]}),(0,c.jsx)(q.Z,{size:"small",onClick:b,children:(0,c.jsx)(eC.Z,{})})]}),(0,c.jsx)(ej.ZP,{anchorEl:o.current,disableScrollLock:!0,onClose:x,open:l,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},children:t.map(function(e){return(0,c.jsx)(ev.Z,{selected:e.value===s,onClick:function(){return k(e.value)},children:e.label},e.value)})})]})},ey=function(e){var n,r,o,u,l,p,k,g,Z,I,N,H,L,V,X=e.taskId,Y=e.onClose,J=e.open,Q=(0,v.Z)(e,["taskId","onClose","open"]),$=(0,F.I)(),ee=(0,G.I0)(),en=(0,G.v9)(function(e){return Object.values(e.kanban.columns.byId)}),et=(0,G.v9)(function(e){var n=e.kanban.tasks;return X&&n.byId[X]||null}),ea=(n=null==et?void 0:et.columnId,(0,G.v9)(function(e){var r=e.kanban.columns;return n&&r.byId[n]||null})),es=(r=null==et?void 0:et.authorId,(0,G.v9)(function(e){var n=e.kanban.members;return r&&n.byId[r]||null})),ec=(o=null==et?void 0:et.assigneesIds,(0,G.v9)(function(e){var n=e.kanban.members;return o?o.map(function(e){return n.byId[e]}).filter(function(e){return!!e}):[]})),ei=(0,P.Z)(function(e){return e.breakpoints.up("md")}),eo=(0,a.Z)((0,i.useState)("overview"),2),eu=eo[0],el=eo[1],ed=(0,a.Z)((0,i.useState)((null==et?void 0:et.name)||""),2),ef=ed[0],em=ed[1],eb=(0,i.useCallback)(function(){el("overview")},[]);(0,i.useEffect)(function(){eb()},[X]);var ex=(0,i.useCallback)(function(){em((null==et?void 0:et.name)||"")},[et]);(0,i.useEffect)(function(){ex()},[et]);var ev=(0,i.useCallback)(function(e,n){el(n)},[]),eg=(0,i.useCallback)((u=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(er.moveTask({taskId:et.id,position:0,columnId:e}))];case 1:return n.sent(),null==Y||Y(),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return u.apply(this,arguments)}),[ee,et,Y]),eC=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ee(er.deleteTask({taskId:et.id}))];case 1:return e.sent(),null==Y||Y(),[3,3];case 2:return console.error(e.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),[ee,et,Y]),eI=(0,i.useCallback)((l=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(er.updateTask({taskId:et.id,update:{name:e}}))];case 1:return n.sent(),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return l.apply(this,arguments)}),[ee,et]),ej=(0,i.useCallback)(function(){if(!ef){em(et.name);return}ef!==et.name&&eI(ef)},[et,ef,eI]),ey=(0,i.useCallback)(function(e){em(e.target.value)},[]),e_=(0,i.useCallback)(function(e){"Enter"===e.code&&ef&&ef!==et.name&&eI(ef)},[et,ef,eI]),eS=(0,i.useMemo)(function(){var e;return j()((e=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(er.updateTask({taskId:et.id,update:{description:e}}))];case 1:return n.sent(),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(n){return e.apply(this,arguments)}),500)},[ee,et]),eT=(0,i.useCallback)(function(e){eS(e.target.value)},[eS]),eP=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ee(er.updateTask({taskId:et.id,update:{isSubscribed:!0}}))];case 1:return e.sent(),[3,3];case 2:return console.error(e.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),[ee,et]),eA=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ee(er.updateTask({taskId:et.id,update:{isSubscribed:!1}}))];case 1:return e.sent(),[3,3];case 2:return console.error(e.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),[ee,et]),eR=(0,i.useCallback)((p=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(er.updateTask({taskId:et.id,update:{labels:e}}))];case 1:return n.sent(),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return p.apply(this,arguments)}),[ee,et]),eE=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ee(er.addChecklist({taskId:et.id,name:"Untitled Checklist"}))];case 1:return e.sent(),[3,3];case 2:return console.error(e.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),[ee,et]),eD=(0,i.useCallback)((k=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ee(er.updateChecklist({taskId:et.id,checklistId:e,update:{name:n}}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return k.apply(this,arguments)}),[ee,et]),ez=(0,i.useCallback)((g=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(er.deleteChecklist({taskId:et.id,checklistId:e}))];case 1:return n.sent(),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return g.apply(this,arguments)}),[ee,et]),eO=(0,i.useCallback)((Z=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ee(er.addCheckItem({taskId:et.id,checklistId:e,name:n}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return Z.apply(this,arguments)}),[ee,et]),eW=(0,i.useCallback)((I=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ee(er.deleteCheckItem({taskId:et.id,checklistId:e,checkItemId:n}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return I.apply(this,arguments)}),[ee,et]),eM=(0,i.useCallback)((N=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ee(er.updateCheckItem({taskId:et.id,checklistId:e,checkItemId:n,update:{state:"complete"}}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return N.apply(this,arguments)}),[ee,et]),eK=(0,i.useCallback)((H=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ee(er.updateCheckItem({taskId:et.id,checklistId:e,checkItemId:n,update:{state:"incomplete"}}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return H.apply(this,arguments)}),[ee,et]),eU=(0,i.useCallback)((L=(0,t.Z)(function(e,n,r){return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ee(er.updateCheckItem({taskId:et.id,checklistId:e,checkItemId:n,update:{name:r}}))];case 1:return t.sent(),[3,3];case 2:return console.error(t.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n,r){return L.apply(this,arguments)}),[ee,et]),eq=(0,i.useCallback)((V=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(er.addComment({taskId:et.id,message:e}))];case 1:return n.sent(),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return V.apply(this,arguments)}),[ee,et]),eB=(0,i.useMemo)(function(){return en.map(function(e){return{label:e.name,value:e.id}})},[en]),eF=et&&ea?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(m.Z,{alignItems:{sm:"center"},direction:{xs:"column-reverse",sm:"row"},justifyContent:{sm:"space-between"},spacing:1,sx:{p:3},children:[(0,c.jsx)("div",{children:(0,c.jsx)(ew,{onChange:function(e){return eg(e)},options:eB,value:ea.id})}),(0,c.jsxs)(m.Z,{justifyContent:"flex-end",alignItems:"center",direction:"row",spacing:1,children:[et.isSubscribed?(0,c.jsx)(A.Z,{onClick:eA,children:(0,c.jsx)(R.Z,{children:(0,c.jsx)(_.Z,{})})}):(0,c.jsx)(A.Z,{onClick:eP,children:(0,c.jsx)(R.Z,{children:(0,c.jsx)(y.Z,{})})}),(0,c.jsx)(A.Z,{onClick:eC,children:(0,c.jsx)(R.Z,{children:(0,c.jsx)(w.Z,{})})}),!ei&&(0,c.jsx)(A.Z,{onClick:Y,children:(0,c.jsx)(R.Z,{children:(0,c.jsx)(T.Z,{})})})]})]}),(0,c.jsx)(f.Z,{sx:{px:1},children:(0,c.jsx)(E.Z,{disableUnderline:!0,fullWidth:!0,onBlur:ej,onChange:ey,onKeyUp:e_,placeholder:"Task name",sx:function(e){return(0,x.Z)((0,b.Z)({},e.typography.h6),{"& .MuiInputBase-input":{borderRadius:1.5,overflow:"hidden",px:2,py:1,textOverflow:"ellipsis",wordWrap:"break-word","&:hover, &:focus":{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"}}}})},value:ef})}),(0,c.jsxs)(D.Z,{onChange:ev,sx:{px:3},value:eu,children:[(0,c.jsx)(z.Z,{value:"overview",label:"Overview"}),(0,c.jsx)(z.Z,{value:"checklists",label:"Checklists"}),(0,c.jsx)(z.Z,{value:"comments",label:"Comments"})]}),(0,c.jsx)(O.Z,{}),(0,c.jsxs)(f.Z,{sx:{p:3},children:["overview"===eu&&(0,c.jsxs)(W.Z,{container:!0,spacing:3,children:[(0,c.jsx)(W.Z,{xs:12,sm:4,children:(0,c.jsx)(h.Z,{color:"text.secondary",variant:"caption",children:"Created by"})}),(0,c.jsx)(W.Z,{xs:12,sm:8,children:es&&(0,c.jsx)(M.Z,{src:es.avatar||void 0})}),(0,c.jsx)(W.Z,{xs:12,sm:4,children:(0,c.jsx)(h.Z,{color:"text.secondary",variant:"caption",children:"Assigned to"})}),(0,c.jsx)(W.Z,{xs:12,sm:8,children:(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:1,children:[(0,c.jsx)(K.Z,{max:5,children:ec.map(function(e){return(0,c.jsx)(M.Z,{src:e.avatar||void 0},e.id)})}),(0,c.jsx)(A.Z,{disabled:!0,children:(0,c.jsx)(R.Z,{fontSize:"small",children:(0,c.jsx)(S.Z,{})})})]})}),(0,c.jsx)(W.Z,{xs:12,sm:4,children:(0,c.jsx)(h.Z,{color:"text.secondary",variant:"caption",children:"Attachments"})}),(0,c.jsx)(W.Z,{xs:12,sm:8,children:(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:1,children:[et.attachments.map(function(e){return(0,c.jsx)(M.Z,{src:e.url||void 0,sx:{height:64,width:64},variant:"rounded"},e.id)}),(0,c.jsx)(A.Z,{disabled:!0,children:(0,c.jsx)(R.Z,{fontSize:"small",children:(0,c.jsx)(S.Z,{})})})]})}),(0,c.jsx)(W.Z,{xs:12,sm:4,children:(0,c.jsx)(h.Z,{color:"text.secondary",variant:"caption",children:"Due date"})}),(0,c.jsx)(W.Z,{xs:12,sm:8,children:et.due&&(0,c.jsx)(U.Z,{size:"small",label:(0,C.Z)(et.due,"MMM dd, yyyy")})}),(0,c.jsx)(W.Z,{xs:12,sm:4,children:(0,c.jsx)(h.Z,{color:"text.secondary",variant:"caption",children:"Labels"})}),(0,c.jsx)(W.Z,{xs:12,sm:8,children:(0,c.jsx)(eZ,{labels:et.labels,onChange:eR})}),(0,c.jsx)(W.Z,{xs:12,sm:4,children:(0,c.jsx)(h.Z,{color:"text.secondary",variant:"caption",children:"Description"})}),(0,c.jsx)(W.Z,{xs:12,sm:8,children:(0,c.jsx)(E.Z,{defaultValue:et.description,fullWidth:!0,multiline:!0,disableUnderline:!0,onChange:eT,placeholder:"Leave a message",rows:6,sx:{borderColor:"divider",borderRadius:1,borderStyle:"solid",borderWidth:1,p:1}})})]}),"checklists"===eu&&(0,c.jsxs)(m.Z,{spacing:2,children:[et.checklists.map(function(e){return(0,c.jsx)(eh,{checklist:e,onCheckItemAdd:function(n){return eO(e.id,n)},onCheckItemDelete:function(n){return eW(e.id,n)},onCheckItemCheck:function(n){return eM(e.id,n)},onCheckItemUncheck:function(n){return eK(e.id,n)},onCheckItemRename:function(n,r){return eU(e.id,n,r)},onDelete:function(){return ez(e.id)},onRename:function(n){return eD(e.id,n)}},e.id)}),(0,c.jsx)(q.Z,{startIcon:(0,c.jsx)(R.Z,{children:(0,c.jsx)(S.Z,{})}),onClick:eE,variant:"contained",children:"Add"})]}),"comments"===eu&&(0,c.jsxs)(m.Z,{spacing:2,children:[et.comments.map(function(e){return(0,c.jsx)(ep,{comment:e},e.id)}),(0,c.jsx)(ek,{avatar:$.avatar,onAdd:eq})]})]})]}):null;return(0,c.jsx)(B.ZP,(0,x.Z)((0,b.Z)({anchor:"right",onClose:Y,open:void 0!==J&&J,PaperProps:{sx:{width:"100%",maxWidth:500}}},Q),{children:eF}))};ey.propTypes={onClose:Z().func,open:Z().bool,taskId:Z().string};var e_=function(e){var n=e.onAdd,r=(0,v.Z)(e,["onAdd"]),o=(0,a.Z)((0,i.useState)(!1),2),u=o[0],l=o[1],d=(0,a.Z)((0,i.useState)(""),2),p=d[0],k=d[1],g=(0,i.useCallback)(function(e){k(e.target.value)},[]),Z=(0,i.useCallback)(function(){l(!0)},[]),C=(0,i.useCallback)(function(){l(!1),k("")},[]),I=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){return null==n||n(p),l(!1),k(""),[2]})}),[p,n]);return(0,c.jsx)(es.Z,(0,x.Z)((0,b.Z)({sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"background.paper"}}},r),{children:u?(0,c.jsxs)(f.Z,{sx:{p:2},children:[(0,c.jsx)(el.Z,{autoFocus:!0,fullWidth:!0,placeholder:"My new task",name:"name",onChange:g,sx:{"& .MuiInputBase-input":{px:2,py:1}},value:p}),(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,sx:{mt:2},children:[(0,c.jsx)(q.Z,{onClick:I,size:"small",startIcon:(0,c.jsx)(R.Z,{children:(0,c.jsx)(S.Z,{})}),variant:"contained",children:"Add Task"}),(0,c.jsx)(q.Z,{color:"inherit",onClick:C,size:"small",children:"Cancel"})]})]}):(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",onClick:Z,spacing:1,sx:{cursor:"pointer",p:2,userSelect:"none"},children:[(0,c.jsx)(R.Z,{color:"action",children:(0,c.jsx)(S.Z,{})}),(0,c.jsx)(h.Z,{color:"text.secondary",variant:"subtitle1",children:"Add Task"})]})}))};e_.propTypes={onAdd:Z().func};var eS=r(88612),eT=r(85170),eP=r(69709),eA=r(83965),eR=(0,i.forwardRef)(function(e,n){var r,t=e.taskId,a=e.dragging,s=e.onOpen,i=(0,v.Z)(e,["taskId","dragging","onOpen"]),o=(0,G.v9)(function(e){return e.kanban.tasks.byId[t]}),u=(r=null==o?void 0:o.assigneesIds,(0,G.v9)(function(e){var n=e.kanban.members;return r?r.map(function(e){return n.byId[e]}).filter(function(e){return!!e}):[]}));if(!o)return null;var l=o.assigneesIds.length>0,d=o.attachments.length>0,p=o.checklists.length>0,k=o.comments.length>0,g=o.labels.length>0;return(0,c.jsxs)(es.Z,(0,x.Z)((0,b.Z)({elevation:a?8:1,onClick:s,ref:n,sx:(0,x.Z)((0,b.Z)({backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"background.paper"}},a&&{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"background.paper"}}),{p:3,userSelect:"none","&:hover":{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.700":"neutral.50"}},"&.MuiPaper-elevation1":{boxShadow:1}})},i),{children:[d&&(0,c.jsx)(eA.Z,{image:o.attachments[0].url,sx:{borderRadius:1.5,height:120,mb:1}}),(0,c.jsx)(h.Z,{variant:"subtitle1",children:o.name}),g&&(0,c.jsx)(f.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,mt:1},children:o.labels.map(function(e){return(0,c.jsx)(U.Z,{label:e,size:"small",sx:{m:1}},e)})}),(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,children:[(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,sx:{mt:2},children:[o.isSubscribed&&(0,c.jsx)(R.Z,{color:"action",children:(0,c.jsx)(y.Z,{})}),d&&(0,c.jsx)(R.Z,{color:"action",children:(0,c.jsx)(eS.Z,{})}),p&&(0,c.jsx)(R.Z,{color:"action",children:(0,c.jsx)(eT.Z,{})}),k&&(0,c.jsx)(R.Z,{color:"action",children:(0,c.jsx)(eP.Z,{})})]}),l&&(0,c.jsx)(K.Z,{max:3,children:u.map(function(e){return(0,c.jsx)(M.Z,{src:e.avatar||void 0},e.id)})})]})]}))});eR.propTypes={taskId:Z().string.isRequired,dragging:Z().bool},eR.defaultProps={dragging:!1};var eE=r(83075),eD=function(e){var n=e.tasksCount,r=e.name,t=e.onClear,s=e.onDelete,o=e.onRename,u=(0,i.useRef)(null),l=(0,a.Z)((0,i.useState)(!1),2),d=l[0],f=l[1],h=(0,a.Z)((0,i.useState)(r),2),p=h[0],k=h[1],b=(0,i.useCallback)(function(){k(r)},[r]);(0,i.useEffect)(function(){b()},[r]);var x=(0,i.useCallback)(function(){f(!0)},[]),v=(0,i.useCallback)(function(){f(!1)},[]),g=(0,i.useCallback)(function(){if(!p){k(r);return}p!==r&&(null==o||o(p))},[p,r,o]),Z=(0,i.useCallback)(function(e){k(e.target.value)},[]),C=(0,i.useCallback)(function(e){"Enter"===e.code&&p&&p!==r&&(null==o||o(p))},[p,r,o]),I=(0,i.useCallback)(function(){f(!1),null==t||t()},[t]),j=(0,i.useCallback)(function(){f(!1),null==s||s()},[s]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{pr:2,py:1},children:[(0,c.jsx)(E.Z,{disableUnderline:!0,fullWidth:!0,onBlur:g,onChange:Z,onKeyUp:C,placeholder:"Column Name",sx:{"& .MuiInputBase-input":{borderRadius:1.5,fontWeight:500,overflow:"hidden",px:2,py:1,textOverflow:"ellipsis",wordWrap:"break-word","&:hover, &:focus":{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"}}}},value:p}),(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,c.jsx)(U.Z,{label:n}),(0,c.jsx)(A.Z,{edge:"end",onClick:x,ref:u,children:(0,c.jsx)(R.Z,{children:(0,c.jsx)(eE.Z,{})})})]})]}),(0,c.jsxs)(ex.Z,{anchorEl:u.current,anchorOrigin:{horizontal:"center",vertical:"bottom"},keepMounted:!0,onClose:v,open:d,children:[(0,c.jsx)(ev.Z,{onClick:I,children:"Clear"}),(0,c.jsx)(ev.Z,{onClick:j,children:"Delete"})]})]})};eD.propTypes={tasksCount:Z().number.isRequired,name:Z().string.isRequired,onClear:Z().func,onDelete:Z().func,onRename:Z().func};var ez=function(e){var n=e.columnId,r=e.onTaskAdd,t=e.onTaskOpen,a=e.onClear,s=e.onDelete,i=e.onRename,o=(0,v.Z)(e,["columnId","onTaskAdd","onTaskOpen","onClear","onDelete","onRename"]),u=(0,G.v9)(function(e){return e.kanban.columns.byId[n]});if(!u)return null;var d=u.taskIds.length;return(0,c.jsxs)(f.Z,(0,x.Z)((0,b.Z)({sx:{display:"flex",flexDirection:"column",maxHeight:"100%",overflowX:"hidden",overflowY:"hidden",width:{xs:300,sm:380}}},o),{children:[(0,c.jsx)(eD,{name:u.name,onClear:a,onDelete:s,onRename:i,tasksCount:d}),(0,c.jsxs)(f.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.900":"neutral.100"},borderRadius:2.5},children:[(0,c.jsx)(l.bK,{droppableId:u.id,type:"task",children:function(e){return(0,c.jsxs)(f.Z,{ref:e.innerRef,sx:{flexGrow:1,minHeight:80,overflowY:"auto",px:3,pt:1.5},children:[null==u?void 0:u.taskIds.map(function(e,n){return(0,c.jsx)(l._l,{draggableId:e,index:n,children:function(n,r){return(0,c.jsx)(f.Z,(0,x.Z)((0,b.Z)({ref:n.innerRef,style:(0,b.Z)({},n.draggableProps.style),sx:{outline:"none",py:1.5}},n.draggableProps,n.dragHandleProps),{children:(0,c.jsx)(eR,{dragging:r.isDragging,onOpen:function(){return null==t?void 0:t(e)},taskId:e},e)}))}},e)}),e.placeholder]})}}),(0,c.jsx)(f.Z,{sx:{pt:1.5,pb:3,px:3},children:(0,c.jsx)(e_,{onAdd:r})})]})]}))};ez.propTypes={columnId:Z().string.isRequired,onClear:Z().func,onDelete:Z().func,onRename:Z().func,onTaskAdd:Z().func,onTaskOpen:Z().func};var eO=function(e){var n=e.onAdd,r=(0,v.Z)(e,["onAdd"]),o=(0,a.Z)((0,i.useState)(!1),2),u=o[0],l=o[1],d=(0,a.Z)((0,i.useState)(""),2),p=d[0],k=d[1],g=(0,i.useCallback)(function(e){k(e.target.value)},[]),Z=(0,i.useCallback)(function(){l(!0)},[]),C=(0,i.useCallback)(function(){l(!1),k("")},[]),I=(0,i.useCallback)((0,t.Z)(function(){return(0,s.__generator)(this,function(e){return null==n||n(p),l(!1),k(""),[2]})}),[p,n]);return(0,c.jsx)(f.Z,(0,x.Z)((0,b.Z)({sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:2.5,mt:7,mx:1,width:{sm:380,xs:300}}},r),{children:u?(0,c.jsxs)(f.Z,{sx:{p:2},children:[(0,c.jsx)(el.Z,{autoFocus:!0,fullWidth:!0,placeholder:"My new column",name:"name",onChange:g,value:p,sx:{"& .MuiInputBase-input":{px:2,py:1}}}),(0,c.jsxs)(f.Z,{sx:{alignItems:"center",display:"flex",mt:2},children:[(0,c.jsx)(q.Z,{onClick:I,size:"small",startIcon:(0,c.jsx)(R.Z,{children:(0,c.jsx)(S.Z,{})}),variant:"contained",children:"Add Column"}),(0,c.jsx)(q.Z,{color:"inherit",onClick:C,size:"small",sx:{ml:2},children:"Cancel"})]})]}):(0,c.jsxs)(m.Z,{alignItems:"center",direction:"row",onClick:Z,spacing:1,sx:{cursor:"pointer",p:2,userSelect:"none"},children:[(0,c.jsx)(R.Z,{color:"action",children:(0,c.jsx)(S.Z,{})}),(0,c.jsx)(h.Z,{color:"text.secondary",variant:"subtitle1",children:"Add Column"})]})}))},eW=function(){var e=(0,G.I0)(),n=(0,i.useCallback)(function(){e(er.getBoard())},[e]);(0,i.useEffect)(function(){n()},[])},eM=function(){var e,n,r,o,k,b,x=(0,G.I0)(),v=(0,G.v9)(function(e){return e.kanban}).columns.allIds,g=(0,a.Z)((0,i.useState)(null),2),Z=g[0],C=g[1];(0,p.a)(),eW();var I=(0,i.useCallback)((e=(0,t.Z)(function(e){var n,r,t;return(0,s.__generator)(this,function(a){switch(a.label){case 0:n=e.source,r=e.destination,t=e.draggableId,a.label=1;case 1:if(a.trys.push([1,6,,7]),!r||n.droppableId===r.droppableId&&n.index===r.index)return[2];if(n.droppableId!==r.droppableId)return[3,3];return[4,x(er.moveTask({taskId:t,position:r.index}))];case 2:return a.sent(),[3,5];case 3:return[4,x(er.moveTask({taskId:t,position:r.index,columnId:r.droppableId}))];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:return console.error(a.sent()),d.ZP.error("Something went wrong!"),[3,7];case 7:return[2]}})}),function(n){return e.apply(this,arguments)}),[x]),j=(0,i.useCallback)((n=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,x(er.createColumn({name:e||"Untitled Column"}))];case 1:return n.sent(),d.ZP.success("Column created"),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),[x]),w=(0,i.useCallback)((r=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,x(er.clearColumn({columnId:e}))];case 1:return n.sent(),d.ZP.success("Column cleared"),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),[x]),y=(0,i.useCallback)((o=(0,t.Z)(function(e){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,x(er.deleteColumn({columnId:e}))];case 1:return n.sent(),d.ZP.success("Column deleted"),[3,3];case 2:return console.error(n.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e){return o.apply(this,arguments)}),[x]),_=(0,i.useCallback)((k=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,x(er.updateColumn({columnId:e,update:{name:n}}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return k.apply(this,arguments)}),[x]),S=(0,i.useCallback)((b=(0,t.Z)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,x(er.createTask({columnId:e,name:n||"Untitled Task"}))];case 1:return r.sent(),[3,3];case 2:return console.error(r.sent()),d.ZP.error("Something went wrong!"),[3,3];case 3:return[2]}})}),function(e,n){return b.apply(this,arguments)}),[x]),T=(0,i.useCallback)(function(e){C(e)},[]),P=(0,i.useCallback)(function(){C(null)},[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u(),{children:(0,c.jsx)("title",{children:"Dashboard: Kanban | Devias Kit PRO"})}),(0,c.jsxs)(f.Z,{component:"main",sx:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden",pt:8},children:[(0,c.jsx)(f.Z,{sx:{px:3},children:(0,c.jsx)(h.Z,{variant:"h4",children:"Kanban"})}),(0,c.jsx)(l.Z5,{onDragEnd:I,children:(0,c.jsx)(f.Z,{sx:{display:"flex",flexGrow:1,flexShrink:1,overflowX:"auto",overflowY:"hidden",px:3,py:3},children:(0,c.jsxs)(m.Z,{alignItems:"flex-start",direction:"row",spacing:3,children:[v.map(function(e){return(0,c.jsx)(ez,{columnId:e,onClear:function(){return w(e)},onDelete:function(){return y(e)},onRename:function(n){return _(e,n)},onTaskAdd:function(n){return S(e,n)},onTaskOpen:T},e)}),(0,c.jsx)(eO,{onAdd:j})]})})})]}),(0,c.jsx)(ey,{onClose:P,open:!!Z,taskId:Z||void 0})]})};eM.getLayout=function(e){return(0,c.jsx)(k.A,{children:e})};var eK=eM},5704:function(e,n,r){"use strict";r.d(n,{p:function(){return function e(n){return"object"!=typeof n||null===n?n:n instanceof Date?new Date(n.getTime()):n instanceof Array?n.reduce(function(n,r,t){return n[t]=e(r),n},[]):n instanceof Object?Object.keys(n).reduce(function(r,t){return r[t]=e(n[t]),r},{}):void 0}}})}},function(e){e.O(0,[630,1664,5978,1238,8360,1273,1220,1813,6383,5104,285,7401,9533,9639,9774,2888,179],function(){return e(e.s=50647)}),_N_E=e.O()}]);