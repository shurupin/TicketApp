(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1525],{65725:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/customers",function(){return r(92221)}])},41216:function(e,t,r){"use strict";r.d(t,{v:function(){return Z}});var n=r(51438),a=r(52951),i=r(48355),s=r(25997),c=r(5704),o=r(7069),u=r(88330),d=r(1784),l=r(33511),p=new Date,g=[{id:"5e887ac47eed253091be10cb",avatar:"/assets/avatars/avatar-carson-darrin.png",city:"Cleveland",country:"USA",currency:"$",email:"carson.darrin@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Carson Darrin",state:"Ohio",totalSpent:300,totalOrders:3,updatedAt:(0,o.Z)((0,u.Z)(p,7),1).getTime()},{id:"5e887b209c28ac3dd97f6db5",avatar:"/assets/avatars/avatar-fran-perez.png",city:"Atlanta",country:"USA",currency:"$",email:"fran.perez@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Fran Perez",state:"Georgia",totalSpent:0,totalOrders:0,updatedAt:(0,o.Z)((0,u.Z)(p,1),2).getTime()},{id:"5e887b7602bdbc4dbb234b27",avatar:"/assets/avatars/avatar-jie-yan-song.png",city:"North Canton",country:"USA",currency:"$",email:"jie.yan.song@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!1,name:"Jie Yan Song",state:"Ohio",totalSpent:5600,totalOrders:6,updatedAt:(0,o.Z)((0,u.Z)(p,4),2).getTime()},{id:"5e86809283e28b96d2d38537",avatar:"/assets/avatars/avatar-anika-visser.png",city:"Madrid",country:"Spain",currency:"$",email:"anika.visser@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Anika Visser",state:"Madrid",totalSpent:500,totalOrders:1,updatedAt:(0,o.Z)((0,u.Z)(p,11),2).getTime()},{id:"5e86805e2bafd54f66cc95c3",avatar:"/assets/avatars/avatar-miron-vitold.png",city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Miron Vitold",totalSpent:0,totalOrders:0,state:"California",updatedAt:(0,o.Z)((0,u.Z)(p,7),3).getTime()},{id:"5e887a1fbefd7938eea9c981",avatar:"/assets/avatars/avatar-penjani-inyene.png",city:"Berkeley",country:"USA",currency:"$",email:"penjani.inyene@devias.io",hasAcceptedMarketing:!1,isProspect:!0,isReturning:!1,name:"Penjani Inyene",state:"California",totalSpent:0,totalOrders:0,updatedAt:(0,o.Z)((0,u.Z)(p,5),4).getTime()},{id:"5e887d0b3d090c1b8f162003",avatar:"/assets/avatars/avatar-omar-darboe.png",currency:"$",email:"omar.darobe@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!1,city:"Carson City",country:"USA",name:"Omar Darobe",state:"Nevada",totalSpent:100,totalOrders:4,updatedAt:(0,o.Z)((0,u.Z)(p,15),4).getTime()},{id:"5e88792be2d4cfb4bf0971d9",avatar:"/assets/avatars/avatar-siegbert-gottfried.png",city:"Los Angeles",country:"USA",currency:"$",email:"siegbert.gottfried@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Siegbert Gottfried",state:"California",totalSpent:1e3,totalOrders:2,updatedAt:(0,o.Z)((0,u.Z)(p,2),5).getTime()},{id:"5e8877da9a65442b11551975",avatar:"/assets/avatars/avatar-iulia-albu.png",city:"Murray",country:"USA",email:"iulia.albu@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Iulia Albu",state:"Utah",totalSpent:0,totalOrders:0,updatedAt:(0,o.Z)((0,u.Z)(p,8),6).getTime()},{id:"5e8680e60cba5019c5ca6fda",avatar:"/assets/avatars/avatar-nasimiyu-danai.png",city:"Salt Lake City",country:"USA",currency:"$",email:"nasimiyu.danai@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!0,name:"Nasimiyu Danai",state:"Utah",totalSpent:200,totalOrders:7,updatedAt:(0,o.Z)((0,u.Z)(p,1),9).getTime()}],h={id:"5e86805e2bafd54f66cc95c3",address1:"Street John Wick, no. 7",address2:"House #25",avatar:"/assets/avatars/avatar-miron-vitold.png",balance:0,city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasDiscount:!1,isVerified:!0,name:"Miron Vitold",phone:"+55 748 327 439",state:"New York",vatRate:19,zipCode:"240355"},f=[{id:"5ece2ce3613486d95ffaea58",createdAt:(0,o.Z)((0,u.Z)((0,d.Z)(p,34),5),3).getTime(),description:"Order confirmation"},{id:"5ece2ce8cebf7ad1d100c0cd",createdAt:(0,o.Z)((0,u.Z)((0,d.Z)(p,49),11),4).getTime(),description:"Order confirmation"}],v=[{id:"528651571NT",issueDate:p.getTime(),status:"paid",amount:1358.75},{id:"311658671JR",issueDate:p.getTime(),status:"unpaid",amount:1451.75}],m=[{id:"5ece2cfeb6e2ac847bba11ce",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:200},{id:"5ece2d02510484b2952e1e05",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:522},{id:"5ece2d08e2748e4e9788901a",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,23),8),2).getTime(),description:"Cart remove",ip:"84.234.243.42",method:"DELETE",route:"/api/products/d65654e/remove",status:200},{id:"5ece2d0c47214e342c2d7f28",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,54),20),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/d65654e/add",status:200},{id:"5ece2d11e4060a97b2b57623",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,16),34),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f/add",status:200},{id:"5ece2d16cf6d53d8e33656af",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,30),54),2).getTime(),description:"View product",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f",status:200},{id:"5ece2d1b2ec5071be9286a96",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,40),56),2).getTime(),description:"Get products",ip:"84.234.243.42",method:"GET",route:"/api/products",status:200},{id:"5ece2d22e68d5498917e47bc",createdAt:(0,o.Z)((0,d.Z)((0,l.Z)(p,5),57),2).getTime(),description:"Login",ip:"84.234.243.42",method:"POST",route:"/api/auth/login",status:200}],Z=new(function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,[{key:"getCustomers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=e.page,n=e.rowsPerPage,a=e.sortBy,o=e.sortDir,u=(0,c.p)(g),d=u.length;return void 0!==t&&(d=(u=u.filter(function(e){if(void 0!==t.query&&""!==t.query){var r=!1;if(["email","name"].forEach(function(n){e[n].toLowerCase().includes(t.query.toLowerCase())&&(r=!0)}),!r)return!1}return(void 0===t.hasAcceptedMarketing||e.hasAcceptedMarketing===t.hasAcceptedMarketing)&&(void 0===t.isProspect||e.isProspect===t.isProspect)&&(void 0===t.isReturning||e.isReturning===t.isReturning)})).length),void 0!==a&&void 0!==o&&(u=(0,s.v)(u,a,o)),void 0!==r&&void 0!==n&&(u=(0,i.i)(u,r,n)),Promise.resolve({data:u,count:d})}},{key:"getCustomer",value:function(e){return Promise.resolve((0,c.p)(h))}},{key:"getEmails",value:function(e){return Promise.resolve((0,c.p)(f))}},{key:"getInvoices",value:function(e){return Promise.resolve((0,c.p)(v))}},{key:"getLogs",value:function(e){return Promise.resolve((0,c.p)(m))}}]),e}())},38242:function(e,t,r){"use strict";r.d(t,{s:function(){return a}});var n=r(67294),a=function(){var e=(0,n.useRef)(!1);return(0,n.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,n.useCallback)(function(){return e.current},[])}},70563:function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var n=r(67294),a=r(56204),i=function(){(0,n.useEffect)(function(){a.w.push({event:"page_view"})},[])}},21486:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(67294),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,n.useRef)(!0);(0,n.useEffect)(function(){if(!r.current)return e();r.current=!1},t)}},92221:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return el}});var n=r(47568),a=r(26042),i=r(69396),s=r(828),c=r(70655),o=r(85893),u=r(67294),d=r(9008),l=r.n(d),p=r(25308),g=r(10216),h=r(2957),f=r(36822),v=r(21214),m=r(26447),Z=r(15861),x=r(11057),b=r(53219),j=r(66242),y=r(41216),C=r(38242),P=r(70563),A=r(9639),k=r(45697),S=r.n(k),w=r(95226),T=r(37023),O=r(40044),R=r(67720),D=r(57709),M=r(87109),E=r(93155),_=r(21486),I=[{label:"All",value:"all"},{label:"Accepts Marketing",value:"hasAcceptedMarketing"},{label:"Prospect",value:"isProspect"},{label:"Returning",value:"isReturning"}],L=[{label:"Last update (newest)",value:"updatedAt|desc"},{label:"Last update (oldest)",value:"updatedAt|asc"},{label:"Total orders (highest)",value:"totalOrders|desc"},{label:"Total orders (lowest)",value:"totalOrders|asc"}],U=function(e){var t=e.onFiltersChange,r=e.onSortChange,n=e.sortBy,c=e.sortDir,d=(0,u.useRef)(null),l=(0,s.Z)((0,u.useState)("all"),2),p=l[0],g=l[1],h=(0,s.Z)((0,u.useState)({}),2),v=h[0],Z=h[1],x=(0,u.useCallback)(function(){null==t||t(v)},[v,t]);(0,_.r)(function(){x()},[v,x]);var j=(0,u.useCallback)(function(e,t){g(t),Z(function(e){var r=(0,i.Z)((0,a.Z)({},e),{hasAcceptedMarketing:void 0,isProspect:void 0,isReturning:void 0});return"all"!==t&&(r[t]=!0),r})},[]),y=(0,u.useCallback)(function(e){e.preventDefault(),Z(function(e){var t;return(0,i.Z)((0,a.Z)({},e),{query:null===(t=d.current)||void 0===t?void 0:t.value})})},[]),C=(0,u.useCallback)(function(e){var t=(0,s.Z)(e.target.value.split("|"),2),n=t[0],a=t[1];null==r||r({sortBy:n,sortDir:a})},[r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(T.Z,{indicatorColor:"primary",onChange:j,scrollButtons:"auto",sx:{px:3},textColor:"primary",value:p,variant:"scrollable",children:I.map(function(e){return(0,o.jsx)(O.Z,{label:e.label,value:e.value},e.value)})}),(0,o.jsx)(R.Z,{}),(0,o.jsxs)(m.Z,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:3,sx:{p:3},children:[(0,o.jsx)(f.Z,{component:"form",onSubmit:y,sx:{flexGrow:1},children:(0,o.jsx)(D.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:d},placeholder:"Search customers",startAdornment:(0,o.jsx)(M.Z,{position:"start",children:(0,o.jsx)(b.Z,{children:(0,o.jsx)(w.Z,{})})})})}),(0,o.jsx)(E.Z,{label:"Sort By",name:"sort",onChange:C,select:!0,SelectProps:{native:!0},value:"".concat(n,"|").concat(c),children:L.map(function(e){return(0,o.jsx)("option",{value:e.value,children:e.label},e.value)})})]})]})};U.propTypes={onFiltersChange:S().func,onSortChange:S().func,sortBy:S().string,sortDir:S().oneOf(["asc","desc"])};var B=r(99534),N=r(36305),q=r(41664),$=r.n(q),z=r(92077),G=r.n(z),F=r(94723),V=r(76585),W=r(69368),H=r(7906),J=r(53184),Q=r(53816),X=r(98102),Y=r(295),K=r(87952),ee=r(23795),et=r(93946),er=r(8896),en=r(44254),ea=r(98637),ei=r(30682),es=function(e){var t=(0,u.useMemo)(function(){return e.map(function(e){return e.id})},[e]),r=(0,s.Z)((0,u.useState)([]),2),n=r[0],a=r[1];(0,u.useEffect)(function(){a([])},[t]);var i=(0,u.useCallback)(function(e){a(function(t){return(0,N.Z)(t).concat([e])})},[]),c=(0,u.useCallback)(function(e){a(function(t){return t.filter(function(t){return t!==e})})},[]),o=(0,u.useCallback)(function(){a((0,N.Z)(t))},[t]);return{deselectAll:(0,u.useCallback)(function(){a([])},[]),deselectOne:c,selectAll:o,selectOne:i,selected:n}},ec=function(e){var t=e.customers,r=e.customersCount,n=e.onPageChange,s=e.onRowsPerPageChange,c=e.page,d=e.rowsPerPage,l=(0,B.Z)(e,["customers","customersCount","onPageChange","onRowsPerPageChange","page","rowsPerPage"]),p=es(t),g=p.deselectAll,h=p.selectAll,v=p.deselectOne,j=p.selectOne,y=p.selected,C=(0,u.useCallback)(function(e){e.target.checked?h():g()},[h,g]),P=y.length===t.length,A=y.length>0&&y.length<t.length,k=y.length>0;return(0,o.jsxs)(f.Z,(0,i.Z)((0,a.Z)({sx:{position:"relative"}},l),{children:[k&&(0,o.jsxs)(m.Z,{direction:"row",spacing:2,sx:{alignItems:"center",backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.50"},display:k?"flex":"none",position:"absolute",top:0,left:0,width:"100%",px:2,py:.5,zIndex:10},children:[(0,o.jsx)(W.Z,{checked:P,indeterminate:A,onChange:C}),(0,o.jsx)(x.Z,{color:"inherit",size:"small",children:"Delete"}),(0,o.jsx)(x.Z,{color:"inherit",size:"small",children:"Edit"})]}),(0,o.jsx)(en.L,{children:(0,o.jsxs)(H.Z,{sx:{minWidth:700},children:[(0,o.jsx)(J.Z,{children:(0,o.jsxs)(Q.Z,{children:[(0,o.jsx)(X.Z,{padding:"checkbox",children:(0,o.jsx)(W.Z,{checked:P,indeterminate:A,onChange:C})}),(0,o.jsx)(X.Z,{children:"Name"}),(0,o.jsx)(X.Z,{children:"Location"}),(0,o.jsx)(X.Z,{children:"Orders"}),(0,o.jsx)(X.Z,{children:"Spent"}),(0,o.jsx)(X.Z,{align:"right",children:"Actions"})]})}),(0,o.jsx)(Y.Z,{children:t.map(function(e){var t=y.includes(e.id),r="".concat(e.city,", ").concat(e.state,", ").concat(e.country),n=G()(e.totalSpent).format("".concat(e.currency,"0,0.00"));return(0,o.jsxs)(Q.Z,{hover:!0,selected:t,children:[(0,o.jsx)(X.Z,{padding:"checkbox",children:(0,o.jsx)(W.Z,{checked:t,onChange:function(t){t.target.checked?j(e.id):v(e.id)},value:t})}),(0,o.jsx)(X.Z,{children:(0,o.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,o.jsx)(K.Z,{src:e.avatar,sx:{height:42,width:42},children:(0,ei.Q)(e.name)}),(0,o.jsxs)("div",{children:[(0,o.jsx)(ee.Z,{color:"inherit",component:$(),href:ea.H.dashboard.customers.details,variant:"subtitle2",children:e.name}),(0,o.jsx)(Z.Z,{color:"text.secondary",variant:"body2",children:e.email})]})]})}),(0,o.jsx)(X.Z,{children:r}),(0,o.jsx)(X.Z,{children:e.totalOrders}),(0,o.jsx)(X.Z,{children:(0,o.jsx)(Z.Z,{variant:"subtitle2",children:n})}),(0,o.jsxs)(X.Z,{align:"right",children:[(0,o.jsx)(et.Z,{component:$(),href:ea.H.dashboard.customers.edit,children:(0,o.jsx)(b.Z,{children:(0,o.jsx)(V.Z,{})})}),(0,o.jsx)(et.Z,{component:$(),href:ea.H.dashboard.customers.details,children:(0,o.jsx)(b.Z,{children:(0,o.jsx)(F.Z,{})})})]})]},e.id)})})]})}),(0,o.jsx)(er.Z,{component:"div",count:r,onPageChange:n,onRowsPerPageChange:s,page:c,rowsPerPage:d,rowsPerPageOptions:[5,10,25]})]}))};ec.propTypes={customers:S().array.isRequired,customersCount:S().number.isRequired,onPageChange:S().func.isRequired,onRowsPerPageChange:S().func,page:S().number.isRequired,rowsPerPage:S().number.isRequired};var eo=function(){var e=(0,s.Z)((0,u.useState)({filters:{query:void 0,hasAcceptedMarketing:void 0,isProspect:void 0,isReturning:void 0},page:0,rowsPerPage:5,sortBy:"updatedAt",sortDir:"desc"}),2);return{search:e[0],updateSearch:e[1]}},eu=function(e){var t=(0,C.s)(),r=(0,s.Z)((0,u.useState)({customers:[],customersCount:0}),2),a=r[0],i=r[1],o=(0,u.useCallback)((0,n.Z)(function(){var r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,y.v.getCustomers(e)];case 1:return r=n.sent(),t()&&i({customers:r.data,customersCount:r.count}),[3,3];case 2:return console.error(n.sent()),[3,3];case 3:return[2]}})}),[e,t]);return(0,u.useEffect)(function(){o()},[e]),a},ed=function(){var e=eo(),t=e.search,r=e.updateSearch,n=eu(t),s=n.customers,c=n.customersCount;(0,P.a)();var d=(0,u.useCallback)(function(e){r(function(t){return(0,i.Z)((0,a.Z)({},t),{filters:e})})},[r]),y=(0,u.useCallback)(function(e){r(function(t){return(0,i.Z)((0,a.Z)({},t),{sortBy:e.sortBy,sortDir:e.sortDir})})},[r]),C=(0,u.useCallback)(function(e,t){r(function(e){return(0,i.Z)((0,a.Z)({},e),{page:t})})},[r]),A=(0,u.useCallback)(function(e){r(function(t){return(0,i.Z)((0,a.Z)({},t),{rowsPerPage:parseInt(e.target.value,10)})})},[r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l(),{children:(0,o.jsx)("title",{children:"Dashboard: Customer List | Devias Kit PRO"})}),(0,o.jsx)(f.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,o.jsx)(v.Z,{maxWidth:"xl",children:(0,o.jsxs)(m.Z,{spacing:4,children:[(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,o.jsxs)(m.Z,{spacing:1,children:[(0,o.jsx)(Z.Z,{variant:"h4",children:"Customers"}),(0,o.jsxs)(m.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,o.jsx)(x.Z,{color:"inherit",size:"small",startIcon:(0,o.jsx)(b.Z,{children:(0,o.jsx)(h.Z,{})}),children:"Import"}),(0,o.jsx)(x.Z,{color:"inherit",size:"small",startIcon:(0,o.jsx)(b.Z,{children:(0,o.jsx)(p.Z,{})}),children:"Export"})]})]}),(0,o.jsx)(m.Z,{alignItems:"center",direction:"row",spacing:3,children:(0,o.jsx)(x.Z,{startIcon:(0,o.jsx)(b.Z,{children:(0,o.jsx)(g.Z,{})}),variant:"contained",children:"Add"})})]}),(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(U,{onFiltersChange:d,onSortChange:y,sortBy:t.sortBy,sortDir:t.sortDir}),(0,o.jsx)(ec,{customers:s,customersCount:c,onPageChange:C,onRowsPerPageChange:A,rowsPerPage:t.rowsPerPage,page:t.page})]})]})})})]})};ed.getLayout=function(e){return(0,o.jsx)(A.A,{children:e})};var el=ed},48355:function(e,t,r){"use strict";function n(e,t,r){return e.slice(t*r,t*r+r)}r.d(t,{i:function(){return n}})},25997:function(e,t,r){"use strict";function n(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function a(e,t,r){var a="desc"===r?function(e,r){return n(e,r,t)}:function(e,r){return-n(e,r,t)},i=e.map(function(e,t){return[e,t]});return i.sort(function(e,t){var r=a(e[0],t[0]);return 0!==r?r:e[1]-t[1]}),i.map(function(e){return e[0]})}r.d(t,{v:function(){return a}})},5704:function(e,t,r){"use strict";r.d(t,{p:function(){return function e(t){return"object"!=typeof t||null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?t.reduce(function(t,r,n){return t[n]=e(r),t},[]):t instanceof Object?Object.keys(t).reduce(function(r,n){return r[n]=e(t[n]),r},{}):void 0}}})},30682:function(e,t,r){"use strict";r.d(t,{Q:function(){return n}});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(function(e){return e&&e[0].toUpperCase()}).join("")}}},function(e){e.O(0,[1664,5978,1238,8360,1273,1220,1813,6383,5104,2077,9365,285,8896,6269,9639,9774,2888,179],function(){return e(e.s=65725)}),_N_E=e.O()}]);